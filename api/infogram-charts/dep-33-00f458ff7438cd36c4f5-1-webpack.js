(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-33"],{7758:(t,e,n)=>{n.r(e),n.d(e,{labelsWithAlignment:()=>g,labelsWithoutAlignment:()=>v});var r=n(3863);var i=n(420);var a=n(1114);var o=n(7719);var l=n(3905);function u(t,e,n,r,i,a,o){try{var l=t[a](o);var u=l.value}catch(t){n(t);return}l.done?e(u):Promise.resolve(u).then(r,i)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function o(t){u(a,r,i,o,l,"next",t)}function l(t){u(a,r,i,o,l,"throw",t)}o(void 0)})}}function s(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function d(t){return function(e){return e.seriesIdx!==t}}function h(t,e){e.on("highlightStart.text",function(e){t.filter(d(e)).transition().duration(150).ease(r.linear).style("opacity",.3)}),e.on("highlightEnd.text",function(e){t.filter(d(e)).transition().duration(150).ease(r.linear).style("opacity",1)})}function f(t,e,n,r,i,o){(0,l.addMouseEvents)(t,e,o,n,r),t.on("mousemove",function(t,e){var l=(0,a.getMousePosition)(t);var u=(0,a.getColor)(e.seriesIdx,i);var c=n(e);var s=r(e);o().setText(c).setValue(s).setPosition(l,u)})}function v(t){return x.apply(this,arguments)}function x(){return(x=c(function(t){var e,n,r,l,u,c,d,v,x,p,g,b,y,w,m,L;return s(this,function(s){return e=t.selection,n=t.graphs,r=t.xScale,l=t.yScale,u=t.style,c=t.formatter,d=t.legend,v=t.chartId,x=t.tooltip,p=t.tooltipText,g=t.tooltipTextValue,b=t.hideOverlapping,y=n.reduce(function(t,e){var n=[0,0];var i=e.data.map(function(t){return c.labels.format(t.xLabel)});var o=(0,a.getAllTextDimensions)(i,u);for(var s=0,d=e.data.length;s<d;s++){var h=e.data[s];var f=+(h.x>0);var v=1===f?1:0;var x=n[f];n[f]+=h.x;var p=n[f];var g={x:r(x)+v,y:l(h.y),width:r(p)-r(x),height:l.bandwidth()};var y=Math.abs(g.width);var w=o.collection[s];y<=w.width+2&&b||t.push({textX:h.x<0?g.x-2:g.x+2,textY:g.y+g.height/2+.25*w.height,textAnchor:h.x<0?"end":"start",text:i[s],inside:!0,color:(0,a.getColor)(h.seriesIdx,e.colors),seriesIdx:h.seriesIdx,groupLabel:h.groupLabel,xLabel:h.xLabel,yLabel:h.yLabel,link:h.link,x:h.x})}return t},[]),w=(w=e.selectAll(".igc-labels").data([0])).merge(w.enter().append("g").attr("class","igc-labels")),m=(0,o.createLabel)(w,y,u),(0,o.addOutline)(m,u,function(t){return t.text}),L=(0,i.default)("highlightStart","highlightEnd","openUrl"),d&&d.data().forEach(function(t){d.addListener({id:"".concat(v,"_").concat(t.groupId),dispatch:L})}),[2,new Promise(function(t){if(0===m.size())return t(void 0);var e=0;m.transition().duration(50).style("opacity",1).on("start",function(){e++}).on("end",function(){0==--e&&t(void 0)}),f(m,L,p,g,n[0].colors,x),h(m,L)})]})})).apply(this,arguments)}var p=[{left:function(t){return t.x-t.width+t.textWidth+5},right:function(t){return t.x-5},center:function(t){return t.x-t.width/2+t.textWidth/2},outside:function(t){return t.x-t.width-5}},{left:function(t){return t.x+5},right:function(t){return t.x+t.width-t.textWidth-5},center:function(t){return t.x+t.width/2-t.textWidth/2},outside:function(t){return t.x+t.width+5}}];function g(t){return b.apply(this,arguments)}function b(){return(b=c(function(t){var e,n,r,l,u,c,d,v,x,g,b,y,w,m,L,k,I,A,S,T,E;return s(this,function(s){return e=t.selection,n=t.graphs,r=t.xScale,l=t.yScale,u=t.style,c=t.formatter,d=t.legend,v=t.chartId,x=t.tooltip,g=t.tooltipText,b=t.tooltipTextValue,w=void 0===(y=t.align)?"left":y,L=void 0!==(m=t.hideOverlapping)&&m,I=void 0===(k=t.outlineColorAlways)||k,A=n.reduce(function(t,e){var n=[0,0];var i=e.data.map(function(t){return c.labels.format(t.xLabel)});var o=(0,a.getAllTextDimensions)(i,u);var s=[[null,null],[null,null]];var d=[];for(var h=0,f=e.data.length;h<f;h++){var v=e.data[h];var x=+(v.x>0);var g=1===x?1:0;var b=n[x];n[x]+=v.x;var y=n[x];var m=o.collection[h];var k=m.width;var I={x:r(b)+g,y:l(v.y),width:Math.abs(r(y)-r(b)),height:l.bandwidth(),textWidth:k,index:h};var A=k+5;var S=p[x];var T=S[w](I);var E=I.width>A;E||"outside"===w||(T=S.center(I)),0===b&&(s[x][0]=I),(1===x&&y>b||0===x&&y<b)&&(s[x][1]=I),d.push({textX:T,textY:I.y+I.height/2+.25*m.height,textAnchor:v.x<0?"end":"start",text:i[h],inside:"outside"!==w&&E,color:(0,a.getColor)(v.seriesIdx,e.colors),seriesIdx:v.seriesIdx,groupLabel:v.groupLabel,xLabel:v.xLabel,yLabel:v.yLabel,link:v.link,x:v.x})}if("outside"===w)return t.concat(d);for(var W=0;W<2;W++){var C=p[W];var P=!0,O=!1,M=void 0;try{for(var V=s[W][Symbol.iterator](),X;!(P=(X=V.next()).done);P=!0){var z=X.value;if(null!==z){var D=w;d[z.index].inside||(D=W?"left":"right"),d[z.index].textX=C[D](z)}}}catch(t){O=!0,M=t}finally{try{P||null==V.return||V.return()}finally{if(O)throw M}}}return L?t.concat(d.filter(function(t){return t.inside})):t.concat(d)},[]),S=(S=e.selectAll(".igc-labels").data([0])).merge(S.enter().append("g").attr("class","igc-labels")),T=(0,o.createLabel)(S,A,u),I?(0,o.addOutlineAlways)(T,u):(0,o.addOutline)(T,u,function(t){return t.text}),E=(0,i.default)("highlightStart","highlightEnd","openUrl"),d&&d.data().forEach(function(t){d.addListener({id:"".concat(v,"_").concat(t.groupId),dispatch:E})}),[2,new Promise(function(t){if(0===T.size())return t(void 0);var e=0;T.transition().duration(50).style("opacity",1).on("start",function(){e++}).on("end",function(){0==--e&&t(void 0)}),f(T,E,g,b,n[0].colors,x),h(T,E)})]})})).apply(this,arguments)}}}]);