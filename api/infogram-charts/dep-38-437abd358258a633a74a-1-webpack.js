(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-38"],{7813:(t,e,a)=>{function r(t,e,a){var r=function(t,e){null!=t&&(void 0===n||n<t)&&(n=t,l=e)};var i=function(t,e){null!=t&&(void 0===o||o>t)&&(o=t,s=e)};var n=void 0;var o=void 0;var l=-1;var s=-1;var c=-1;var u=!0,h=!1,d=void 0;try{for(var p=t[Symbol.iterator](),f;!(u=(f=p.next()).done);u=!0){var g=f.value;c++;var v=e(g,c,t);var y=a(g,c,t);i(v,c),r(y,c),r(v,c),i(y,c)}}catch(t){h=!0,d=t}finally{try{u||null==p.return||p.return()}finally{if(h)throw d}}return[[o,s],[n,l]]}a.r(e),a.d(e,{findExtremes:()=>r})},7751:(t,e,a)=>{function r(t){var e,a;return(null==t?void 0:null===(a=t.dataPoint)||void 0===a?void 0:null===(e=a.style)||void 0===e?void 0:e.stroke)||"#ffffff"}a.r(e),a.d(e,{getPointStrokeColorDefaults:()=>r})},7812:(t,e,a)=>{a.r(e),a.d(e,{Combo:()=>tc});var r=a(498);var i=a.n(r);var n=a(3914);var o=a.n(n);var l=a(7713);var s=a(3915);var c=a(3906);var u=a(7714);var h=a(3876);var d=a(7696);var p=a(7738);var f=a(1117);var g=a(3863);var v=a(3862);var y=a(7732);var m=a(7734);var x=a(3828);var k=a(420);var b=a(7693);var S=a(3911);var T=a(3912);var C=a(7695);var w=a(7705);var _=a(7707);var L=a(7709);var O=a(7712);var A=a(7711);var I=a(1114);var G=a(7715);var P=a(7717);var E=a(7716);var D=a(7718);var R=a(3893);var V=a(3903);var B=a(3900);var M=a(7724);var j=a(1113);var W=a(3909);var H=a(7800);var Y=a(7719);var N=a(7764);var F=a(7704);var z=a(3861);var U=a(7727);var X=a(7801);var Z=a(7797);var q=a(7798);var $=a(7813);function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}function K(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e,a){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(a||t):i.value}})(t,e,a||t)}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function te(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};var r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),r.forEach(function(e){var r;r=a[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}function ta(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):(function(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a.push.apply(a,r)}return a})(Object(e)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}),t}function tr(t,e){return(tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ti(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var r=[];var i=!0;var n=!1;var o,l;try{for(a=a.call(t);!(i=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){n=!0,l=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw l}}return r}}(t,e)||to(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(t){return function(t){if(Array.isArray(t))return J(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||to(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(t,e){if(t){if("string"==typeof t)return J(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if("Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return J(t,e)}}(0,z.putGraph)("line",U.Line),(0,z.putGraph)("column-stacked",X.ColumnStacked),(0,z.putGraph)("column-grouped",Z.ColumnGrouped);var tl={curveLinear:y.default,curveMonotoneX:m.monotoneX,monotone:m.monotoneX};function ts(t){var e=t.graphs;return!!e&&e.some(function(t){return t.data.length>0})}var tc=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tr(t,e)}(r,t);var a=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=tt(r),a;if(e){var i=tt(this).constructor;a=Reflect.construct(t,arguments,i)}else a=t.apply(this,arguments);var n;return(n=a)&&("object"==(n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof n)?n:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function r(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),a.apply(this,arguments)}var n,m;return m=[{key:"getClassName",value:function(){return"Combo"}}],n=[{key:"render",value:function(t){this.renderStartTimestamp=Date.now(),this.detectDimensions();var e=this.options;var a=this.getSheetData();var r=(0,T.formatHelper)(a);var i=this.runtime={components:{},metrics:{},layout:{},format:{y:function(){},y1:function(){}},width:e.width,height:e.height,inanimate:(0,S.inanimated)(e),sheet:a,formatter:r,xAxisTimeBased:a.categories.xAxisTimeBased,animationEnd:this.createAnimationCounter(2),domains:t};if(this.createTickIntervals(),i.graphData=this.prepareSheetData(a),(0,B.Controls)(this,{width:e.width}),(0,W.DownloadButton)(this,e.style.legend),i.legend=(0,V.legendHelper)({instance:this}),this.sheetsNotFound())return this.stopRender();var n=i.layout;if(n.margin=i.margin={top:0,right:0,bottom:0,left:0},n.marginTitle=i.marginTitle={left:0,right:0,top:0,bottom:0},n.marginAxis={top:0,right:0,bottom:0,left:0},n.spacing=i.spacing={maxBeforeXAxisTick:50,beforeBottomCategories:5,afterYAxisTick:5},n.bottomLabelPadding=i.bottomLabelPadding={right:2,left:2},i.categoryLayout=a.categories.layout,this.createYScale(),(0,w.domainInvalid)(i.yScale.domain())||(0,w.domainInvalid)(i.y1Scale.domain()))return this.stopRender();this.createLayout(),this.createXScale(),this.createCategoryLabels(),this.createGrid(),this.createTicks(),this.titleComponents(["y","y2"]),this.createDataPoints();var o=this.prepareGraphAndLabelData();if(o)return this.render(o);this.renderRoot()}},{key:"createYScale",value:function(){var t=this.runtime;var e=t.graphData,a=t.sheet;var r=a.axis[1];var n=a.axis[2];var o=e[0];var l=e[1];var s=!1;var c=this.getDomain(o.graphs,r,0),u=c.domain,d=c.limits;if(r.ticks=r.ticks&&ts(o),s=d,t.yScale=t.y1Scale=(0,h.default)().domain(u).clamp(d),i().get(l,"graphs.length")){var p=this.getDomain(l.graphs,n,1),f=p.domain,g=p.limits;s=s||g,n.ticks=n.ticks&&ts(l),t.y1Scale=(0,h.default)().domain(f).clamp(g)}t.hasRangeLimits=s}},{key:"yTicksMetrics",value:function(t,e){var a=this.options;return(0,I.getTextDimensions)(t,a.style.axis[e].tick)}},{key:"createLayout",value:function(){var t=this.runtime,e=this.options;var a=t.sheet,r=t.layout,i=t.metrics,n=t.yScale,l=t.y1Scale,s=t.yTickInterval,c=t.formatter;var u=r.margin,h=r.marginTitle,d=r.marginAxis,p=r.spacing;var f=a.axis[1];var g=a.axis[2];this.titleLayout(["y","y2"]),n.rangeRound(this.getRange(t.height)),l.rangeRound(this.getRange(t.height,"y1"));var v=n.copy().interpolate(x.default);var y=(0,F.ensureMinTicks)(n,s);var m=y.map(function(t){return v(t)});var k=t.format.y=c.axis.y.createTickFormatter(y,f);i.y0Ticks=this.yTicksMetrics(y.map(function(t){return k(t)}),"y"),f.ticks&&(d.left=i.y0Ticks.width+p.afterYAxisTick),u.top+=i.y0Ticks.baseLineOffset;var b=(this.isAxisInvert("y")?m[0]:m[m.length-1])-i.y0Ticks.height;if(b<0&&(u.top+=Math.abs(u.top+b)),g.ticks&&t.yScale!==t.y1Scale){var S=t.y1Ticks=m.map(function(t){return Number(new(o())(l.invert(t)).round(6).toString())});var T=t.format.y1=c.axis.y2.createTickFormatter(S,g);i.y1Ticks=this.yTicksMetrics(S.map(function(t){return T(t)}),"y2"),d.right=i.y1Ticks.width}var C=t.xTickMetrics=(0,I.getTextDimensions)([(0,I.firstNonEmpty)(a.categories.data)],e.style.axis.x.tick);h.right+d.right<.5*C.height&&(u.right+=.5*C.height-h.right-d.right),t.graphWidth=t.width-u.left-h.left-d.left-u.right-h.right-d.right;var w=t.graphHeight=t.height-t.margin.top-h.top-t.margin.bottom-h.bottom;t.limits={maxCategoryHeight:Math.floor(.28*w),categoryHeight:0},t.igcLeftOffset=u.left+h.left+d.left,r.igc={},r.igc.x=u.left+h.left+d.left,r.igc.y=u.top+h.top}},{key:"createXScale",value:function(){var t=this.runtime;var e=t.sheet,a=t.limits,r=t.bottomLabelPadding,i=t.graphWidth;var n=e.categories.data;if(t.xAxisTimeBased){var o=t.xDomain=(0,w.getTimeDomain)(n);t.xScale=(0,d.default)().domain(o).range([0,i],0)}else t.xScale=(0,p.default)().domain((0,l.default)(0,n.length)).range([0,i]).padding(.1),a.maxCategoryWidth=this.getCategoryWidth(t.xScale)-r.left-r.right;return t.xScaleResize=function(t,e){t.range(e)},t.xScale}},{key:"createGrid",value:function(){var t=this.options,e=this.runtime;var a=e.components,r=e.sheet,n=e.categories,o=e.layout,l=e.graphHeight,s=e.yTickInterval;var c=o.margin,u=o.marginTitle,h=o.marginAxis;var d=e.width-c.left-u.left-c.right-u.right;var p=(0,F.ensureMinTicks)(e.yScale,s);var f=a.yGridLines=(0,P.GridLines)().scale(e.yScale).orient(P.GridLines.ORIENTS.horizontal).tickSize(-d).highlightZero(r.grid.horizontalZeroHighlight).style(t.style.grid).offset({left:-h.left}).tickValues(p);if(!r.grid.horizontal){var g=i().get(r,"grid.horizontalZero",!1);g=g&&-1!==p.indexOf(0),f.tickValues(g?[0]:[])}var v=a.xGridLines=(0,P.GridLines)().scale(e.xScale).orient(P.GridLines.ORIENTS.vertical).tickSize(l).highlightZero(r.grid.verticalZeroHighlight).style(t.style.grid);e.hiddenLines&&e.hiddenLines.length&&v.hideLinesByIndex(e.hiddenLines),r.grid.vertical?v.tickValues(n.filterMetrics.domainIndex):v.tickValues([])}},{key:"createCategoryLabels",value:function(){var t=this.runtime,e=this.options;var a=t.yScale,r=t.y1Scale,i=t.sheet,n=t.limits,o=t.layout,s=t.components;var c=i.axis[0];var u=o.spacing,h=o.marginAxis;var d=i.categories.layout;var p=s.xAxisBottomText=(0,L.Bottom)().data([]).style(e.style.axis.x.tick);if(t.categoryLayout=d,c.ticks){var f=t.categories=L.Bottom.createLabels(this,d);var g=f.renderData;n.categoryHeight=f.height,h.bottom=t.limits.categoryHeight+u.beforeBottomCategories,t.graphHeight-=h.top+h.bottom,p.data(g).textAlign(g.textAlign)}else{var v=(0,F.getScalePositions)(t.xScale);var y=i.categories.data.slice(0);var m=O.getLimits.call(this,v);var x=e.style.axis.x.tick;var k=m.maxCategoryWidth;var b=(0,R.TextMetric)().style(x).text(y).run().out();var S=b.lineHeight;if(S>k&&b.text.width>k){var T=(0,_.stepFromPositionsByWidth)(v,S+A.ENTRY_SPACING);t.categories={filterMetrics:(0,_.filterToFit)(v,y,T,-1)}}else t.categories={filterMetrics:{domainIndex:(0,l.default)(0,v.length)}}}p.bounds({height:n.maxCategoryHeight,y:t.graphHeight+u.beforeBottomCategories});var C=t.graphHeight-1;a.rangeRound(this.getRange(C)),r.rangeRound(this.getRange(C,"y1"))}},{key:"prepareGraphAndLabelData",value:function(){var t=this;var e=this.chartId,a=this.interaction,r=this.runtime,n=this.options,o=this.root;var l=r.sheet,s=r.animationEnd,c=r.xScale,u=r.yScale,h=r.y1Scale,d=r.dataPointOptions,p=r.legend,f=r.formatter,v=r.graphData,y=r.inanimate;o.attr("width",r.width).attr("height",r.height);var m=n.animation.duration;var x=n.style.graph.item.value;var b=i().pick(x,["font-family","font-size","font-weight","font-style"]);var S=i().merge({},b,{color:x.line.color});var T=v[0];var C=v[1];var _=[u,h];var L=(0,j.createStyledTooltip)(this);var O=Math.max.apply(null,c.range());var A=Math.max.apply(null,u.range());var G=tn(T.graphs);var P={line:{instance:null,data:[],showValues:!1},column:{instance:null,data:[],showValues:!1}};C.graphs&&G.push.apply(G,tn(C.graphs)),G.sort(function(t,e){return"line"===t.type&&("column-grouped"===e.type||"column-stacked"===e.type)?1:("column-grouped"===t.type||"column-stacked"===t.type)&&"line"===e.type?-1:0});var E=function(t){return t.categoryLabel};var D=r.graphInstances=[];var R=i().after(2,function(){s()});var B=x.align;var M="aligned"===x.placementStrategy;var W=i().after(G.length,function(){var e=t.root.select(".igc").select(".igc-graph-group");if(e.selectAll(".igc-graph-labels").remove(),e.selectAll(".igc-graph-labels-line").remove(),P.line.showValues&&P.line.data.length>0?(0,Y.renderLineLabels)({selection:e.append("g").classed("igc-graph-labels-line",!0),data:P.line.data,style:S,textFormat:function(t){return f.labels.format(t.text)},transitionDuration:y?0:50,listenToLegendText:(0,V.createListenToLegend)({easing:g.linear,ns:"text",dispatch:P.line.instance.dispatch()}),addMouseEvents:I.noop}).then(R):R(),P.column.data.length>0&&P.column.showValues){var a=P.column,r=a.data,n=a.instance;var o="ComboStacked"===t.getClassName();var s=e.insert("g",".igc-graph-line").classed("igc-graph-labels",!0);var c=i().merge({},b,{color:x.color});if(M){(0,q.renderColumnLabelsWithAlignment)({selection:s,colors:l.categories.colors,data:r,style:c,legend:p,chartId:t.chartId,tooltip:L,tooltipText:function(t){return"".concat(t.xLabel,": ").concat(f.tooltip.y.format(t.yLabel))},tooltipTextValue:function(t){return t.groupLabel},outlineColorAlways:o}).then(R);return}(0,Y.renderColumnLabels)({selection:s,data:r,style:i().merge({},b,{color:x.color}),showValues:P.column.showValues,textFormat:function(t){return f.labels.format(t.text)},transitionDuration:y?0:50,addMouseEvents:n.addMouseEvents(),listenToLegendText:(0,V.createListenToLegend)({easing:g.linear,ns:"text",dispatch:n.dispatch()}),opacity:1}).then(R)}else R()});W.instanceRenderStartTimestamp=this.renderStartTimestamp;var N=!0,F=!1,U=void 0;try{var X=this;for(var Z=G[Symbol.iterator](),J;!(N=(J=Z.next()).done);N=!0)!function(){var r=J.value;var i=r.type,n=r.yAxisIndex,o=r.colors,l=r.data,s=r.stackIndex;var u=v[n];var h=c.bandwidth?c.bandwidth()/2:0;var x=_[n];var b=1===n?f.tooltip.y2.format:f.tooltip.y.format;var S=function(t){return"".concat(t.xLabel,": ").concat(b(t.yLabel))};var C=(0,z.getGraph)(i);if(C){var w=C();if("line"===i){var O;w.chartId(e).groupId(r.seriesIdx).scaleX(c).scaleY(x).data(l).colors(o).alpha(X.options.opacity).tooltip(L).tooltipText(S).tooltipValue(E).legend(p).interpolate(r.interpolation).animate(!1).dataPointOptions(d).strokeWidth(r.style.strokeWidth).strokeStyle(r.style.strokeStyle);var A=l.map(function(t){return ta(te({},t),{x:c(t.x)+h,y:x(t.y),yAxisIndex:n})});P.line.data=(O=P.line.data).concat.apply(O,tn(A)),P.line.instance=w,P.line.showValues=P.line.showValues||r.showValues}var G="column-stacked"===i;var R="column-grouped"===i;if(R||G){var B;var M=u.columnGroupCount,j=u.allColumnCount;var N=1===n?T.columnGroupCount:0;var F=u.stackGraphs?u.stackGraphs.length:0;R?w.transitionDelay(function(t){return t.group/M*500}):w.scaleY(x).transitionDelay(function(t){return t.stackIndex/F*(m-200)}),y&&(w.transitionDelay(function(){return 0}),w.transitionDuration(m));var U=(G?H.getGraphData:tu)({data:l,colors:o,groupOffset:N,groupCount:j,xScale:c,yScale:x,yAxisIndex:n});var Z=(0,k.default)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl");p&&p.data().forEach(function(t){p.addListener({id:"".concat(e,"_").concat(t.groupId),dispatch:Z})});var q=(0,V.createListenToLegend)({easing:g.linear,ns:"shape",dispatch:Z});var $=(0,Y.createAddMouseEvents)({dispatch:Z,legend:p,tooltip:L,chartId:e,tooltipText:S,tooltipValue:E,colors:o});w.data(U).alpha(X.options.opacity).listenToLegend(q).addMouseEvents($).dispatch(Z),w.dispatch().on("openUrl",function(t){return(0,I.openUrl)(t,a)});var K=tn(U);R&&(K=K.map(function(t){return ta(te({},t),{height:-t.height,y0:0,y1:t.y,x:t.index})})),P.column.data=(B=P.column.data).concat.apply(B,tn(K)),P.column.instance=w,P.column.showValues=P.column.showValues||r.showValues}w.dispatch().on("animationEnd",function(){t.renderStartTimestamp===W.instanceRenderStartTimestamp&&W()}),D.push({type:i,graphInstance:w,colors:o,stackIndex:s})}}()}catch(t){F=!0,U=t}finally{try{N||null==Z.return||Z.return()}finally{if(F)throw U}}if(P.line.showValues&&P.line.data.length>0){var K=this.options.style.graph.item.value.hideOverlapping;P.line.data=(0,Y.createLineLabelData)({data:P.line.data,strategy:"falp",style:S,showDataPoints:!0,dataPointRadius:d.radius,hideOverlapping:K,valueProperty:"yLabel",textFormat:function(t){return f.labels.format(t.text)},width:O,height:A})}if(P.column.data.length>0&&P.column.showValues){var Q=i().merge({},b,{color:x.color});M?P.column.data=(0,q.createColumnLabelDataWithAlignment)({data:P.column.data,style:Q,formatter:f,hideOverlapping:!1,align:B}):P.column.data=(0,Y.createColumnLabelData)({data:P.column.data,style:Q,showValues:!0,maxY:A,isWaterfall:!1,isStacked:"ComboStacked"===this.getClassName(),textFormat:function(t){return f.labels.format(t.text)},valuesOutside:!1,hideOverlapping:!0})}if(!this.runtime.domains){var tt=_.map(function(t){return t.domain()});var tr=_.map(function(t){return t.domain()});var to=_.map(function(t){return t.domain()});if(P.line.data.length>0&&P.line.showValues){var tl=ti((0,$.findExtremes)(P.line.data,function(t){return t.textY-t.textHeight},function(t){return t.textY}),2),ts=ti(tl[0],2),tc=ts[0],td=ts[1],tp=ti(tl[1],2),tf=tp[0],tg=tp[1];var tv=P.line.data[tg];tr=th(_,P.line.data[td],tv,tc,tf)}if(P.column.data.length>0&&P.column.showValues&&M){var ty=ti((0,$.findExtremes)(P.column.data,function(t){if(t.transform.startsWith("rotate(-90,")){if("start"===t.textAnchor)return t.textY;if("end"===t.textAnchor)return t.textY+t.textHeight}return t.textY-t.textHeight},function(t){if(t.transform.startsWith("rotate(-90,")){if("start"===t.textAnchor)return t.textY-t.textHeight;t.textAnchor}return t.textY}),2),tm=ti(ty[0],2),tx=tm[0],tk=tm[1],tb=ti(ty[1],2),tS=tb[0],tT=tb[1];var tC=P.column.data[tT];to=th(_,P.column.data[tk],tC,tx,tS)}var tw=tt.map(function(t,e){var a=to[e];var r=tr[e];return[Math.min(a[0],r[0],t[0]),Math.max(a[1],r[1],t[1])]});if([l.axis[1],l.axis[2]].forEach(function(t,e){var a=tw[e];(0,w.hasLimits)(t)&&(0,w.limit)(t,a)}),tt.some(function(t,e){var a=tw[e];return a[0]<t[0]||a[1]>t[1]}))return tw}}},{key:"createTicks",value:function(){var t=this.options,e=this.runtime;var a=e.sheet,r=e.yScale,i=e.y1Scale,n=e.components,o=e.metrics,l=e.format,s=e.graphWidth,c=e.layout,u=e.yTickInterval;var h=c.marginAxis;var d=a.axis[1];var p=a.axis[2];var f=o.y0Ticks;var g=n.yAxisLeftText=(0,G.Axis)().scale(r).orient("left").tickFormat(l.y).style(t.style.axis.y.tick).offset({left:-h.left}).textOffset(f?f.baseLineOffset-f.height:null).tickValues((0,F.ensureMinTicks)(r,u));d.ticks||g.tickValues([]);var v=n.yAxisRightText=(0,G.Axis)().scale(i).orient("right").offset({left:s+h.right}).style(t.style.axis.y2.tick);if(p.ticks&&r!==i){var y=o.y1Ticks;v.tickFormat(l.y1).tickValues(e.y1Ticks).textOffset(y.baseLineOffset-y.height)}else v.tickValues([])}},{key:"titleComponents",value:function(){b.AxisChart.prototype.titleComponents.apply(this,arguments);var t=this.runtime;var e=t.components,a=t.layout;var r=e.leftTitle,i=e.rightTitle;var n=a.margin;r.orientBounds({x2:t.width,x1:n.left,y2:t.height,y1:0}),i.orientBounds({x2:t.width-n.right,x1:0,y2:t.height,y1:0})}},{key:"createDataPoints",value:function(){var t,e;var a=this.options,r=this.runtime;var n=r.sheet,o=r.xScale,l=r.yScale,s=r.y1Scale,c=r.layout,u=r.graphData,h=r.graphWidth,d=r.graphHeight,p=r.hasRangeLimits;var f=c.margin,g=c.marginTitle,v=c.marginAxis;var y=i().get(n,"graphOptions",{}).dataPointRadius;var m=u[0].sameGraphTypes;var x=i().get(u,"[0].graphs[0]");var k=(null==x?void 0:x.type)==="line"||void 0===x&&"line"===i().get(u,"[1].graphs[0].type");var b=r.dataPointOptions={enabled:!0===a.series.dataPoints,radius:y,sameAxisGraphTypes:m&&k,x:o,y0:l,y1:s,pointStrokeColor:null===(t=n.style)||void 0===t?void 0:t.pointStrokeColor,pointStrokeWidth:null===(e=n.style)||void 0===e?void 0:e.pointStrokeWidth,svgContainer:this.root.node(),offset:{left:f.left+g.left+v.left,top:f.top+g.top},bounds:{width:h,height:d},source:"double"};var S=y+1;p&&(b.pointRect={x:-S,y:-S,width:r.graphWidth+2*S,height:d+S})}},{key:"renderDataPoints",value:function(t){var e=this;var a,r;var i=this.runtime,n=this.chartId,o=this.interaction;var l=i.sheet,s=i.xScale,c=i.dataPointOptions,u=i.graphData,h=i.formatter,d=i.xAxisTimeBased,p=i.legend;var g=(0,j.createStyledTooltip)(this);var v=h.tooltip.y.format;var y=h.tooltip.y2.format;var m=this.options.opacity;var x=[];var k=d?(0,C.createTimeFormat)(null==l?void 0:null===(r=l.axis)||void 0===r?void 0:null===(a=r[0])||void 0===a?void 0:a.timeFormat):function(t){return t};if(c.enabled&&t.select(".igc-graph-group").selectAll(".igc-graph").each(function(t){var e=t.graphInstance,a=t.colors;if("line"===t.type){var r=(0,D.Circle)().scaleX(s).scaleY(e.scaleY()).data(e.data()).colors(a).groupId(e.groupId()).chartId(n).filterFn(function(t){return null!==t.x&&null!==t.y}).legend(p).alpha(m).tooltip(g).tooltipText(e.tooltipText()).tooltipValue(e.tooltipValue()).strokeColor(c.pointStrokeColor).strokeWidth(c.pointStrokeWidth).radius(c.radius).animate(!1);r.dispatch().on("openUrl",function(t){return(0,I.openUrl)(t,o)}),(0,f.default)(this).call(r)}}),t.selectAll(".igc-crosshair-overlay").remove(),t.selectAll(".igc-crosshair-circle").remove(),c.sameAxisGraphTypes){u.forEach(function(t,e){t&&t.graphs&&t.graphs.forEach(function(t){x.push.apply(x,tn(t.data.map(function(a){return a.colors=t.colors,a.scale=0===e?"y":"y1",a})))})});var b=(0,E.Crosshair)().data(x.filter(function(t){return null!==t.x&&null!==t.y})).scaleX(c.x).scaleY(c.y0).scaleY1(c.y1).offset(c.offset).bounds(c.bounds).svgContainer(c.svgContainer).targetParent(t).chartId(n).strokeColor(c.pointStrokeColor).strokeWidth(c.pointStrokeWidth).radius(c.radius).tooltip(g).tooltipText(function(t){var e="y1"===t.scale?y(t.yLabel):v(t.yLabel);return"".concat(t.xLabel,": ").concat(e)}).tooltipValue(function(t){return k(t.categoryLabel)}).pointRect(c.pointRect);b.dispatch().on("openUrl",function(t){return(0,I.openUrl)(t,e.interaction)});var S=t.selectAll(".igc-crosshair-overlay").data([0]);S.enter().append("rect").attr("x",0).attr("y",0).attr("height",c.bounds.height).attr("width",c.bounds.width).attr("class","igc-crosshair-overlay"),S=t.selectAll(".igc-crosshair-overlay").style("stroke-width","0px").style("fill-opacity",0),this.tooltipEnabled()&&(b.target(S),S.call(b))}}},{key:"renderOverlays",value:function(t,e){var a=this.runtime;var r=a.graphWidth,i=a.graphHeight,n=a.hasRangeLimits,o=a.inanimate;n&&this.graphsSetupClipPath(t,e,{x:-6,y:-6,width:r+12,height:i+6,clipPathId:"igc-graph-column-"+this.chartId,targetClass:"igc-graph-column"});var l="igc-cp-line-".concat(this.chartId);var s={x:-6,y:-6,width:r+12,height:i+12,clipPathId:l,targetClass:"igc-graph-line"};this.graphsSetupClipPath(t,e,s),e.select("#".concat(l)).selectAll("path").attr("transform","translate(".concat(-(s.width-s.x),", 0)")).transition().duration(o?0:500).ease(g.linear).attr("transform","translate(0, 0)")}},{key:"renderRoot",value:function(){var t=this;var e;var a=this.options,r=this.root,i=this.runtime;var n=new M.Renderer({instance:this});var o=i.sheet,l=i.legend,s=i.layout,c=i.animationEnd,u=i.graphInstances,h=i.graphData,d=i.components,p=i.dataPointOptions;var f=d.xGridLines,g=d.yGridLines,y=d.yAxisLeftText,m=d.yAxisRightText,x=d.leftTitle,k=d.rightTitle,b=d.xAxisBottomText;var T=h[0];var C=h[1];s.igc.x=i.igcLeftOffset,i.inanimate&&(0,S.removeAnimation)([x,k,y,m,b,f,g]),this.containerSetup();var w=r.select("defs");var _=r.select(".igc");n.add(function(){r.transition().ease(v[t.options.animation.ease]).duration(t.options.animation.duration).on("start",function(){t.events.call("startAnimation")}).on("end",function(){c()}),_.attr("transform","translate(".concat(s.igc.x,",").concat(s.igc.y,")"))}),n.addGrid(g,"igc-ygrid"),n.addGrid(f,"igc-xgrid"),n.addGraph([{graphs:u,x:i.xScale,legend:l,animationEnd:c,dataPointOptions:p,textStyle:a.style.graph.item.value,axis:[{y:i.yScale,columnGroupCount:T.columnGroupCount,allColumnCount:T.allColumnCount,groupOffset:0,sameGraphTypes:T.sameGraphTypes,stackCount:T.stackGraphs?T.stackGraphs.length:0},{y:i.y1Scale,columnGroupCount:C.columnGroupCount,allColumnCount:C.allColumnCount,groupOffset:T.columnGroupCount,sameGraphTypes:C.sameGraphTypes,stackCount:C.stackGraphs?C.stackGraphs.length:0}],pointStrokeColor:null===(e=o.style)||void 0===e?void 0:e.pointStrokeColor}]),n.add(function(){return t.renderOverlays(_,w)}),n.add(function(){return t.renderDataPoints(_)}),n.addGrid(y,"igc-y0-axis-text"),n.addGrid(m,"igc-y1-axis-text"),n.addTitle(x,"igc-title-left"),n.addTitle(k,"igc-title-right"),n.addGrid(b,"igc-x-axis-text"),n.start()}},{key:"renderGraphs",value:function(t,e){t.selectAll(".igc-graph-group").remove();var a=e[0],r=a.animationEnd,i=a.graphs;if(0===i.length){r&&r();return}t.append("g").attr("class","igc-graph-group").selectAll(".igc-graph").data(i,function(t){return t.stackIndex||0}).enter().append("g").attr("class","igc-graph").call(function(t){t._groups.forEach(function(t){t.forEach(function(t){var e=t.__data__,a=e.type,r=e.graphInstance;switch(a){case"line":t.classList.add("igc-graph-line");break;case"column-stacked":case"column-grouped":t.classList.add("igc-graph-column")}(0,f.default)(t).call(r)})})})}},{key:"isAxisInvert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return!!i().get(this.runtime,"sheet.axis[".concat(["y","y1"].indexOf(t)+1,"].invert"),!1)}},{key:"getRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return this.isAxisInvert(e)?[0,t]:[t,0]}},{key:"getDomain",value:function(t,e,a){var r=this.runtime.domains;if((0,w.orderLimits)(e),r)return{domain:r[a],limits:(0,w.hasLimits)(e)};var i=this.options,n=this.runtime;var o=n.sheet,l=n.height;var d=!0===i.series.dataPoints;var p=o.graphOptions.dataPointRadius;var f=t.filter(function(t){return"line"===t.type});var g=t.filter(function(t){return"line"!==t.type});var v=[(0,s.default)(f,function(t){return(0,s.default)(t.data,function(t){return t.y})})||0,(0,c.default)(f,function(t){return(0,c.default)(t.data,function(t){return t.y})})||0];d&&(v=(0,F.adjustScaleDomainByTickLimits)(v,p,[0,l]));var y=[(0,s.default)(g,function(t){return"column-stacked"===t.type?(0,u.default)(t.data,function(t){return t.y<0?t.y:0}):(0,s.default)(t.data,function(t){return t.y})})||0,(0,c.default)(g,function(t){return"column-stacked"===t.type?(0,u.default)(t.data,function(t){return t.y>0?t.y:0}):(0,c.default)(t.data,function(t){return t.y})})||0];y=[Math.min(y[0],v[0]),Math.max(y[1],v[1])],(0,w.ensureZeroEqual)(y),(0,w.ensureZero)(y),y=(0,h.default)().domain(y).nice(10).domain();var m=(0,w.hasLimits)(e)&&(0,w.limit)(e,y);return m&&(0,w.ensureZeroEqual)(y),{domain:y,limits:m}}},{key:"getCategoryWidth",value:function(t){if(0===t.domain().length)return 0;if(1===t.domain().length)return this.runtime.graphWidth;var e=t.domain().map(function(e){return t(e)+.5*t.bandwidth()});return e[1]-e[0]}},{key:"emptySheetData",value:function(){return i().merge({},Q(tt(r.prototype),"emptySheetData",this).call(this),{series:[{title:"",type:"column-grouped",axisIndex:1},{title:"",type:"line"}],axis:[{title:"",ticks:!0},{title:"",ticks:!0,tickInterval:10},{title:""}],graphOptions:{dataPointRadius:5},style:{pointStrokeColor:"#ffffff"}})}},{key:"prepareSheetData",value:function(t){var e=this.options;var a=i().cloneDeep(t.axis);var r={};var n=0;var o=(0,V.createLegendData)(this);var l=this.runtime.xAxisTimeBased;return t.series.forEach(function(s,c){var u=1;(0,I.isBlank)(s.axisIndex)||(u=s.axisIndex);var h=a[u];if(h&&(h.graphs||(h.graphs=[],h.columnGroupCount=0,h.types={}),s.data)){var d=i().get(s,"index",c);var p=(0,I.getColor)(d,t.categories.colors);if(h.types[s.type]=void 0===h.types[s.type]?1:++h.types[s.type],"column-stacked"===s.type){1===h.types[s.type]&&(h.stackGraphs=t.categories.data.map(function(e,a){return{type:"column-stacked",title:(0,I.replaceBlank)(s.title),link:s.titleLink,data:[],colors:[(0,I.getColor)(c,t.categories.colors)],seriesIdx:c,showValues:h.showColumnValues,yAxisIndex:u-1,group:h.columnGroupCount,allColumnCount:n,stackIndex:a}}),h.columnGroupCount++,n++),s.data.forEach(function(e,a){var r=t.categories.data[a];if(void 0!==r){var i=(0,I.replaceBlank)(s.title);if(o({title:i,color:p,groupId:d}).active){var n=h.stackGraphs[a];n.data.push({x:a,y:(0,I.replaceBlank)(e,null),yLabel:(0,I.replaceBlank)(s.rawData[a]),xLabel:i,categoryLabel:(0,I.replaceBlank)(r),seriesIdx:d,group:n.group,link:s.links?s.links[a]:null,color:p,stackIndex:n.stackIndex})}}}),r[s.type]=!0;return}var f={type:s.type,title:(0,I.replaceBlank)(s.title),link:s.titleLink,data:[],colors:[p],seriesIdx:d,showValues:h.showColumnValues,yAxisIndex:u-1,textSyle:"line"===s.type?e.style.graph.item.value.line:e.style.graph.item.value.column};if(o({title:f.title,color:f.colors[0],groupId:f.seriesIdx}).active&&(f.data=t.categories.data.map(function(t,e){var a=e;return l&&(a=t),{x:a,y:s.data?(0,I.replaceBlank)(s.data[e],null):null,yLabel:(0,I.replaceBlank)(s.rawData[e]),xLabel:(0,I.replaceBlank)(s.title),categoryLabel:(0,I.replaceBlank)(t),seriesIdx:f.seriesIdx,group:h.columnGroupCount,columnGroup:n,link:s.links?s.links[e]:null,color:p}})),r[s.type]=!0,"line"===s.type){var g=t.categories.styles;f.interpolation=tl[s.interpolation]||y.default,f.showValues=h.showLineValues,f.style=(0,I.getCategoryStyle)(d,g,{strokeWidth:2})}"column-grouped"===s.type&&f.data.length&&(h.columnGroupCount++,n++),h.graphs.push(f)}}),a.shift(),a.forEach(function(t){if(void 0===t.graphs&&(t.graphs=[]),t.stackGraphs&&0===(0,u.default)(t.stackGraphs,function(t){return t.data.length})&&(t.columnGroupCount--,n--),t.sameGraphTypes=1===i().size(r),t.allColumnCount=n,t.stackGraphs){var e;(e=t.graphs).push.apply(e,tn(t.stackGraphs))}}),a}},{key:"applySheetOptions",value:function(t){t&&this.options.sheets.forEach(function(e,a){var r=t[a+1]||t[0];r.categories&&i().merge(e.categories,r.categories),r.grid&&i().merge(e.grid,r.grid),r.legend&&i().merge(e.legend,r.legend),r.axis&&r.axis.length&&i().merge(e.axis,r.axis),r.tooltip&&(e.tooltip=e.tooltip||{},i().merge(e.tooltip,r.tooltip)),r.labels&&(e.labels=e.labels||{},i().merge(e.labels,r.labels)),i().merge(e.graphOptions,r.graphOptions),e.series.forEach(function(t,e){var a=i().get(t,"index",e);i().merge(t,i().get(r,"series[".concat(a,"]"),{}))}),r.style&&(e.style=r.style)})}},{key:"defaults",value:function(){return i().merge({},Q(tt(r.prototype),"defaults",this).call(this),{style:{pointStrokeColor:"#ffffff",graph:{item:{value:{line:{color:{manualWithControls:{fill:{value:"#000000",enabled:!1},stroke:{value:"#ffffff",enabled:!1}}}}}}}},animation:{duration:800}})}},{key:"graphDataColumnGrouped",value:function(t){var e=this.runtime,a=e.xScale;return tu(te({yScale:e.yScale,xScale:a},t))}}],K(r.prototype,n),m&&K(r,m),r}(b.AxisChart);function tu(t){var e=t.xScale,a=t.yScale,r=t.data,i=t.colors,n=t.groupCount,o=t.groupOffset,s=t.yAxisIndex;var c=e.bandwidth();var u=[];var h=ti(a.range(),2),d=h[0];var p=h[1]>d;if(r.forEach(function(t,r){var n=u[r]={};n.x=t.x,n.xPos=e(r),n.xLabel=t.xLabel,n.inverted=p,n.side=t.y>0?"positive":"negative",n.height=a(0)-a(t.y),n.y=t.y,n.yPos=a(0)+(n.height<0?1:0),n.yLabel=t.yLabel,n.categoryLabel=t.categoryLabel,n.group=t.group,n.width=c,n.seriesIdx=t.seriesIdx,n.color=(0,I.getColor)(t.group,i),n.index=r,n.link=t.link,n.yAxisIndex=s}),n>1){var f=(0,N.Ordinal)().domain((0,l.default)(0,n));u.forEach(function(t){var e=t.xPos;var a=2;var r=1===n?c:c/n;var i=2*n/n;r-i>=1?r-=i:a=0,f.rangeBandsByWidth(r,a,a/2),t.xPos=e+f(o+t.group),t.width=f.bandwidth()})}return u}function th(t,e,a,r,i){return t.map(function(t,n){var o=t.copy().clamp(!1);var l=tn(t.domain());return n===e.yAxisIndex&&l.push(o.invert(r)),n===a.yAxisIndex&&l.push(o.invert(i)),l=[Math.min.apply(null,l),Math.max.apply(null,l)],o.domain(l).nice(10).domain()})}},7747:(t,e,a)=>{function r(t,e){var a,r;var i=null==e?void 0:null===(r=e.graphs)||void 0===r?void 0:null===(a=r.line)||void 0===a?void 0:a.style;i&&(t.categories.styles=i)}a.r(e),a.d(e,{default:()=>r})},7732:(t,e,a)=>{function r(t){this._context=t}function i(t){return new r(t)}a.r(e),a.d(e,{default:()=>i}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}}},7734:(t,e,a)=>{function r(t,e,a){var r=t._x1-t._x0,i=e-t._x1,n=(t._y1-t._y0)/(r||i<0&&-0),o=(a-t._y1)/(i||r<0&&-0);return((n<0?-1:1)+(o<0?-1:1))*Math.min(Math.abs(n),Math.abs(o),.5*Math.abs((n*i+o*r)/(r+i)))||0}function i(t,e){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-e)/2:e}function n(t,e,a){var r=t._x0,i=t._y0,n=t._x1,o=t._y1,l=(n-r)/3;t._context.bezierCurveTo(r+l,i+l*e,n-l,o-l*a,n,o)}function o(t){this._context=t}function l(t){this._context=new s(t)}function s(t){this._context=t}function c(t){return new o(t)}function u(t){return new l(t)}a.r(e),a.d(e,{monotoneX:()=>c,monotoneY:()=>u}),o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:n(this,this._t0,i(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var a=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,n(this,i(this,a=r(this,t,e)),a);break;default:n(this,this._t0,a=r(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=a}}},(l.prototype=Object.create(o.prototype)).point=function(t,e){o.prototype.point.call(this,e,t)},s.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,a,r,i,n){this._context.bezierCurveTo(e,t,r,a,n,i)}}},7728:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});var r=a(7730);var i=a(7729);var n=a(7731);var o=a(7732);var l=a(7733);function s(t,e){var a=function(a){var n,o=(a=(0,i.default)(a)).length,l,d=!1,p;for(null==c&&(h=u(p=(0,r.path)())),n=0;n<=o;++n)!(n<o&&s(l=a[n],n,a))===d&&((d=!d)?h.lineStart():h.lineEnd()),d&&h.point(+t(l,n,a),+e(l,n,a));if(p)return h=null,p+""||null};var s=(0,n.default)(!0),c=null,u=o.default,h=null;return t="function"==typeof t?t:void 0===t?l.x:(0,n.default)(t),e="function"==typeof e?e:void 0===e?l.y:(0,n.default)(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.default)(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,n.default)(+t),a):e},a.defined=function(t){return arguments.length?(s="function"==typeof t?t:(0,n.default)(!!t),a):s},a.curve=function(t){return arguments.length?(u=t,null!=c&&(h=u(c)),a):u},a.context=function(t){return arguments.length?(null==t?c=h=null:h=u(c=t),a):c},a}},7733:(t,e,a)=>{function r(t){return t[0]}function i(t){return t[1]}a.r(e),a.d(e,{x:()=>r,y:()=>i})}}]);