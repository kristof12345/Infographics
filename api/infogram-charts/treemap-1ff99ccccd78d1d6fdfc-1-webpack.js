(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[74],{7871:(t,e,n)=>{n.r(e),n.d(e,{Treemap:()=>x});var a=n(498);var i=n.n(a);var r=n(3862);var o=n(3807);var s=n(3912);var l=n(1114);var c=n(7724);var u=n(3900);var h=n(1113);var f=n(3909);var d=n(3861);var v=n(7872);function p(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(n||t):i.value}})(t,e,n||t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b="#ffffff";(0,d.putGraph)("treemap",v.Treemap);var x=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(a,t);var n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=m(a),n;if(e){var i=m(this).constructor;n=Reflect.construct(t,arguments,i)}else n=t.apply(this,arguments);var r;return(r=n)&&("object"==(r&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof r)?r:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function a(t){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,a),n.call(this,t,"div")}var o,d;return d=[{key:"getClassName",value:function(){return"Treemap"}}],o=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.root,n=this.options;var a=new c.Renderer({instance:this});var i=this.getSheetData();var o=(0,s.formatHelper)(i);var l=this.runtime={width:n.width,height:n.height,sheet:i,formatter:o};var h=this.createAnimationCounter(2);var d={top:0,right:0,bottom:0,left:0};if((0,u.Controls)(this,{width:l.width}),(0,f.DownloadButton)(this,n.style.legend),!this.sheetsNotFound()){var v=l.width-d.left-d.right;var p=l.height-d.top-d.bottom;var g=this.prepareSheetData(i);this.containerSetup(),a.add(function(){e.styles({width:"".concat(l.width,"px"),height:"".concat(l.height,"px")}).transition().ease(r[n.animation.ease]).duration(n.animation.duration).on("start",function(){t.events.call("startAnimation")}).on("end",function(){h()})}),a.addGraph([{graphs:[g],bounds:{width:v,height:p},offset:{left:d.left,top:d.top},animationEnd:h}]),a.start()}}},{key:"containerSetup",value:function(){var t=this.root,e=this.groupTagName;this.isSvg&&t.selectAll("defs").data([0]).enter().append("defs"),t.selectAll(".igc").data([0]).enter().append(e).attr("class","igc")}},{key:"graphInstanceSetup",value:function(t,e,n,a,i){var r=e.data.length;var o=this.runtime.formatter;var s=this.options.animation.duration;t.data(e.data).groupId(i).showValues(e.showValues).sort(e.sort).bounds(a.bounds).labelOptions(e.labels).offset(a.offset).alpha(this.options.opacity).layout(e.layout).valueLabelFormat(o.labels).tooltip((0,h.createStyledTooltip)(this)).tooltipText(function(t){return t.categoryLabel}).tooltipValue(function(t){return o.tooltip.x.format(t.valueLabel)}).transitionDelay(function(t,e){return e/r*s}).transitionDuration(s),t.dispatch().on("animationEnd",a.animationEnd)}},{key:"defaults",value:function(){var t=i().merge({},g(m(a.prototype),"defaults",this).call(this),{animation:{duration:350}});return i().set(t,"style.graph.item.name.color",b),i().set(t,"style.graph.item.value.color",b),t}},{key:"emptySheetData",value:function(){var t=i().get(this,"options.style",{});return i().merge({},g(m(a.prototype),"emptySheetData",this).call(this),{labels:{name:{colorMethod:"normal",color:i().get(t,"graph.item.name.color")||b},value:{colorMethod:"normal",color:i().get(t,"graph.item.value.color")||b}},axis:[{}],series:[{title:"",type:"treemap",showValues:!1,sort:"none"}]})}},{key:"prepareSheetData",value:function(t){var e=t.series[0];var n=t.categories.colors;var a=[];return e.data.forEach(function(i,r){var o;var s={categoryLabel:(0,l.replaceBlank)(t.categories.data[r],""),valueLabel:(0,l.replaceBlank)(e.rawData[r]),size:(0,l.replaceBlank)(i,null),color:(0,l.getColor)(r,n),link:e.links?e.links[r]:null};null!==s.size&&(o=Math.abs(s.size),s.sizeAbs=o,a.unshift(s))}),{type:e.type,data:a,showValues:!0===e.showValues,labels:t.labels,sort:e.sort,layout:t.categories.layout}}},{key:"applySheetOptions",value:function(t){t&&this.options.sheets.forEach(function(e,n){var a=t[n+1]||t[0];a.categories&&i().merge(e.categories,a.categories),a.axis&&i().merge(e.axis,a.axis),a.tooltip&&(e.tooltip=e.tooltip||{},i().merge(e.tooltip,a.tooltip)),a.labels&&(e.labels=e.labels||{},i().merge(e.labels,a.labels)),e.series.forEach(function(t){"treemap"===t.type&&a.treemap&&i().merge(t,a.treemap)}),a.legend&&i().merge(e.legend,a.legend)})}}],p(a.prototype,o),d&&p(a,d),a}(o.Chart)},3900:(t,e,n)=>{n.r(e),n.d(e,{Controls:()=>s});var a=n(3897);var i=n(3898);var r=n(3901);var o={tab:a.TabSwitcher,player:i.Player,radio:r.RadioSwitcher};function s(t){var e=t.options.sheetSwitch;var n;o[null!==(n=null==e?void 0:e.type)&&void 0!==n?n:"radio"].apply(null,arguments)}},3901:(t,e,n)=>{n.r(e),n.d(e,{RadioSwitcher:()=>c});var a=n(498);var i=n.n(a);var r=n(1117);var o=n(3902);var s=n(3898);var l=n(3892);function c(t,e){var n=t.container,a=t.options,c=t.sheetIndex;var u=a.sheets;var h=t.interaction;if((0,s.removeSheetPlayer)(t),n.selectAll(".igc-sheets").remove(),!(0,l.sheetsEmpty)(t)){var f=i().get(a,"style.sheetSwitch.radio");var d;var v=(d=n.insert("span").attr("class","igc-sm-sheet-switch-radio").style("visibility","hidden").style("position","absolute").style("top","0px").style("left","0px").append("div").attr("class","igc-sheets").append("div").attr("class","igc-sheet").append("span").attr("class","igc-sheet-ico").node().offsetWidth,n.select(".igc-sm-sheet-switch-radio").remove(),d);var p=(0,o.TextItemMetrics)().width(e.width).texts(u.map(function(t){return t.categories.title})).style(f).parentContainer(n).reservedSize(v+20)();var g=n.insert("div",".igc-content").attr("class","igc-sheets").attr("role","radiogroup").attr("aria-label","select sheet").style("width","".concat(e.width,"px"));var m=g.selectAll(".igc-sheet").data(u.map(function(t,e){return{name:t.categories.title,sheetIndex:e}}));(m=m.merge(m.enter().append("div"))).attr("class","igc-sheet").attr("role","radio").attr("aria-checked",function(t){return t.sheetIndex===c?"true":"false"}).attr("aria-labelledby",function(t){return"igc-sheet-label".concat(t.sheetIndex)}).attr("class",function(t){return t.sheetIndex===c?"igc-sheet active":"igc-sheet"}).style("max-width","".concat(p.width,"px")),m.append("span").attr("class","igc-sheet-ico").attr("role","presentation").attr("id",function(t){return"igc-sheet-".concat(t.sheetIndex)}),m.append("span").attr("class","igc-sheet-label").html(function(t){return t.name}).attr("id",function(t){return"igc-sheet-label".concat(t.sheetIndex)}).styles(f).style("height","".concat(p.label.height,"px")).style("max-width","".concat(p.label.width,"px")),m.on("click",function(e,a){var i=(0,r.default)(this);h("sheetSwitch.item","click"),t.sheetIndex!==a.sheetIndex&&(n.selectAll(".igc-sheet.active").attr("class","igc-sheet").attr("aria-checked","false"),i.classed("active",!0).attr("aria-checked","true"),t.sheetIndex=a.sheetIndex,delete t.legendData,t.render())}),(0,l.subtractHeight)(t,g.node())}}},7872:(t,e,n)=>{n.r(e),n.d(e,{Treemap:()=>b});var a=n(498);var i=n.n(a);var r=n(7894);var o=n(3886);var s=n(420);var l=n(1117);var c=n(7873);var u=n(7887);var h=n(7889);var f=n(7890);var d=n(7891);var v=n(1113);var p=n(3905);var g=n(1997);var m=n(3894);var y=n(1115);function b(){var t=function(t){t.each(function(){if(O.length&&0!==H.width&&0!==H.height){M=i().get(k,"name.font-size",null),F=i().get(k,"value.font-size",null);var t=(0,l.default)(this);var r=x(O);var o=(0,c.default)(r).sum(function(t){return t.sizeAbs}).sort(R);var s=(0,u.default)().tile(V).size([H.width,H.height]);t.style("position","relative");var h=s(o).descendants().reduce(function(t,e){if(e.depth>0){var n=i().pick(e,["x0","x1","y0","y1"]);t.push(i().merge(n,e.data))}return t},[]);h=h.sort(function(t,n){return e(t.x0,t.y0)-e(n.x0,n.y0)}),t.selectAll(".igc-treemap-node").remove();var v=t.selectAll(".igc-treemap-node").data(h);v.exit().remove();var p=v.enter();var g=0===v.size()&&v.size()<p.size();v=v.merge(p.append("div").attr("class","igc-treemap-node")),g||(_-=150),v.style("background-color",function(t){return t.color}),v.call(f),v.call(d);var y=v.selectAll(".igc-treemap-node-text").data(function(t){return[t]});(y=y.merge(y.enter().append("div").attr("class","igc-treemap-node-text"))).style("visibility","hidden");var b=y.selectAll(".igc-treemap-node-text-name").data(function(t){return[t]});(b=b.merge(b.enter().append("span").attr("class","igc-treemap-node-text-name"))).call(a,function(t){return t.categoryLabel},"name"),b.styles(n(k.name));var T=y.selectAll("br").data(function(t){return z?[t]:[]});T.exit().remove(),T=T.merge(T.enter().append("br"));var S=y.selectAll(".igc-treemap-node-text-value").data(function(t){return z?[t]:[]});S.exit().remove(),(S=S.merge(S.enter().append("span").attr("class","igc-treemap-node-text-value"))).call(a,function(t){return P?P.format(t.valueLabel):t.valueLabel},"value"),S.styles(n(k.value)),j.name=m.Text.lineHeight(y.select(".igc-treemap-node-text-name").node()),z&&(j.value=m.Text.lineHeight(y.select(".igc-treemap-node-text-value").node()))}})};var e=function(t,e){return t*t+e*e};var n=function(t){return i().pick(t,["font-size","font-style","font-weight","font-family","color"])};var a=function(t,e,n){t.style("color",function(t){var e=k[n];return"contrast"===e.colorMethod?g.Colors.getContrastYIQ(t.color,e.colorDark,e.colorLight):e.color}).style("font-size","name"===n?M:F).text(e)};var r=function(t,e){return e.height<=t.height&&e.width<=t.width};var o=function(t){var e=this.clientWidth;var n=this.clientHeight;var a={width:e,height:n};var i={width:Math.max(0,Math.round(e-W.left-W.right)),height:Math.max(0,Math.round(n-W.top-W.bottom))};var o=this.childNodes[0];var s=k.position;var c=new S({padding:W,dimensions:i,node:o,dnode:(0,l.default)(o),d:t,textPosition:s});c.nameItem=new w({dnode:(0,l.default)(o.childNodes[0]),d:t,padding:W,parentBox:a,parentBoxInner:i,textPosition:s,defaultLineHeight:j.name,parent:c,fontSizeDefault:M}),o.childNodes[2]&&(c.valueItem=new w({dnode:(0,l.default)(o.childNodes[2]),d:t,padding:W,parentBox:a,parentBoxInner:i,textPosition:s,defaultLineHeight:j.value,parent:c,fontSizeDefault:F,value:!0})),function t(e,n){var a=e.nameItem,i=e.valueItem;var o={width:e.dimensions.width,height:e.dimensions.height};var s;if(n&&e.rotate(!0),e.align(),e.resetItems(),r(o,s=e.getTextDimensions())){e.position();return}var l=o.width/s.width;var c=o.height/s.height;var u=Math.floor(a.lineHeight*(l<c?l:c));if(a.setLineHeight(u),a.fontSize<11&&a.setFontSize(11),i&&a.fontSize<i.fontSize){var h=a.lineHeight/i.lineHeight;i.setLineHeight(y.math.preciseNumber(h*i.lineHeight)),s=e.getTextDimensions(),(i.fontSize<11||!r(o,s))&&i.setFontSize(11)}if(r(o,s=e.getTextDimensions())){e.position();return}if(!n)return t(e,!0)}(c)};var f=function(t){function e(t){return .5*Math.max(0,t-1)}return t.style("width","0px").style("height","0px").style("left",function(t){return"".concat(E.left+t.x0+1+e(t.x1-t.x0),"px")}).style("top",function(t){return"".concat(E.top+t.y0+1+e(t.y1-t.y0),"px")})};var d=function(t){var e=0;t.transition().duration(_).delay(C).style("left",function(t){return"".concat(E.left+t.x0+1,"px")}).style("top",function(t){return"".concat(E.top+t.y0+1,"px")}).style("width",function(t){return"".concat(Math.max(0,t.x1-t.x0-1),"px")}).style("height",function(t){return"".concat(Math.max(0,t.y1-t.y0-1),"px")}).style("opacity",N).on("start",function(){e++}).on("end",function(n){o.call(this,n),0==--e&&((0,p.addMouseEvents)(t,U,B,D,L),U.call("animationEnd"))})};var x=function(t){return{categoryLabel:"",sizeAbs:0,children:t}};var T=b.LabelPositions;var S=b.Label;var w=b.LabelItem;var O=[];var E={x:0,y:0};var H={width:0,height:0};var N=1;var A;var I;var P;var k={position:T.CENTER,name:{colorMethod:"normal",color:"#ffffff"},value:{colorMethod:"normal",color:"#ffffff"}};var R=b.SortFns.none;var z=!1;var C=0;var _=700;var D=function(t){return t.categoryLabel};var L=function(t){return t.sizeAbs};var U=(0,s.default)("animationEnd","openUrl");var V=h.default;var W={top:5,right:5,bottom:5,left:5};var j={name:null,value:null};var M=null;var F=null;var B=v.getTooltip;return Object.assign(t,{data:function(e){return arguments.length?(O=e,t):O},groupId:function(e){return arguments.length?(I=e,t):I},chartId:function(e){return arguments.length?(A=e,t):A},showValues:function(e){return arguments.length?(z=!!e,t):z},tooltip:function(e){return arguments.length?(B=e,t):B},tooltipText:function(e){return arguments.length?(D=e,t):D},tooltipValue:function(e){return arguments.length?(L=e,t):L},bounds:function(e){return arguments.length?(H.width="number"==typeof e.width?e.width:H.width,H.height="number"==typeof e.height?e.height:H.height,t):H},offset:function(e){return arguments.length?(E.left="number"==typeof e.left?e.left:E.left,E.top="number"==typeof e.top?e.top:E.top,t):E},labelOptions:function(e){return arguments.length?(k=i().merge(k,e),t):k},alpha:function(e){return arguments.length?(N=e,t):N},sort:function(e){return arguments.length?(R=-1===Object.keys(b.SortFns).indexOf(e)?R:b.SortFns[e],t):R},transitionDelay:function(e){return arguments.length?(C=e,t):C},transitionDuration:function(e){return arguments.length?(_=e,t):_},valueLabelFormat:function(e){return arguments.length?(P=e,t):P},dispatch:function(){return U},layout:function(e){return arguments.length?(V=-1===Object.values(b.Layout).indexOf(e)?V:e,t):V}}),t}b.LabelPositions={NORTH:"north",NORTH_EAST:"north-east",EAST:"east",SOUTH_EAST:"south-east",SOUTH:"south",SOUTH_WEST:"south-west",WEST:"west",NORTH_WEST:"north-west",CENTER:"center"},b.Layout={SQUARIFY:h.default,DICE:f.default,SLICE:d.default},b.SortFns={none:function(t,e){return(0,r.default)(t.value,e.value)},asc:function(t,e){return(0,o.default)(t.value,e.value)},desc:function(t,e){return(0,r.default)(t.value,e.value)}},b.CARDINAL_POINTS={CENTER:"CENTER",NORTH:"NORTH",NORTH_EAST:"NORTH_EAST",EAST:"EAST",SOUTH_EAST:"SOUTH_EAST",SOUTH:"SOUTH",SOUTH_WEST:"SOUTH_WEST",WEST:"WEST",NORTH_WEST:"SOUTH_WEST"},b.CARDINAL_POINTS_ROTATED={CENTER:"CENTER",NORTH:"WEST",NORTH_EAST:"NORTH_WEST",EAST:"NORTH",SOUTH_EAST:"NORTH_EAST",SOUTH:"EAST",SOUTH_WEST:"SOUTH_EAST",WEST:"SOUTH",NORTH_WEST:"SOUTH_WEST"},b.Label=function(t){return Object.keys(t).forEach((function(e){this[e]=t[e]}).bind(this)),this.initialize(),this},b.Label.prototype={initialize:function(){this.dnode.styles({width:"".concat(this.dimensions.width,"px"),height:"".concat(this.dimensions.height,"px"),top:"".concat(this.padding.top,"px"),left:"".concat(this.padding.left,"px"),"padding-top":null,"text-align":null,visibility:"hidden"}),this.dnode.classed("rotate",!1)},rotate:function(t){var e=this.dimensions.width;var n=this.dimensions.height;var a=this.padding.top;(t=!!t)&&(e=this.dimensions.height,n=this.dimensions.width,a+=e),this.dnode.classed("rotate",t),this.dnode.styles({width:"".concat(e,"px"),height:"".concat(n,"px"),top:"".concat(a,"px")})},getTextDimensions:function(){var t=this.dnode.classed("rotate");var e=this.nameItem,n=this.valueItem;var a={};return(a.width=e.width,a.height=e.height,n&&(a.width=Math.max(e.width,n.width),a.height+=n.height),t)?{width:a.height,height:a.width}:a},align:function(){var t=this.dnode.classed("rotate");var e=b.LabelPositions;var n=this.textPosition;var a=null;var i=b.CARDINAL_POINTS;t&&(i=b.CARDINAL_POINTS_ROTATED),(n===e[i.CENTER]||n===e[i.SOUTH]||n===e[i.NORTH])&&(a="center"),(n===e[i.NORTH_EAST]||n===e[i.SOUTH_EAST]||n===e[i.EAST])&&(a="right"),(n===e[i.NORTH_WEST]||n===e[i.WEST]||n===e[i.SOUTH_WEST])&&(a="left"),this.dnode.style("text-align",a)},position:function(){var t=b.LabelPositions;var e=this.dnode.classed("rotate");var n=null;var a=this.textPosition;var i="height";var r=b.CARDINAL_POINTS;e&&(r=b.CARDINAL_POINTS_ROTATED,i="width"),(a===t[r.CENTER]||a===t[r.WEST]||a===t[r.EAST])&&(n=(this.dimensions[i]-this.getTextDimensions()[i])/2),(a===t[r.SOUTH]||a===t[r.SOUTH_EAST]||a===t[r.SOUTH_WEST])&&(n=this.dimensions[i]-this.getTextDimensions()[i]),this.dnode.styles({"padding-top":null===n||0===n?null:"".concat(n,"px"),visibility:null})},resetItems:function(){this.nameItem.reset(),this.valueItem&&this.valueItem.reset()}},b.LabelItem=function(t){return Object.keys(t).forEach((function(e){this[e]=t[e]}).bind(this)),this.reset(),this},b.LabelItem.prototype={reset:function(){this.dnode.styles({"font-size":this.fontSizeDefault});var t=this.dnode.node();this.height=t.clientHeight,this.width=t.clientWidth,this.lineHeight=this.defaultLineHeight,this.fontSize=Number(this.dnode.style("font-size").replace("px",""))},setLineHeight:function(t){var e=y.math.preciseNumber(this.fontSize/this.lineHeight);this.setFontSize(y.math.preciseNumber(e*t))},setFontSize:function(t){this.dnode.style("font-size","".concat(t,"px")),this.update()},update:function(){var t=this.dnode.node();this.height=t.clientHeight,this.width=t.clientWidth,this.lineHeight=m.Text.lineHeight(t),this.fontSize=Number(this.dnode.style("font-size").replace("px",""))}}},3905:(t,e,n)=>{n.r(e),n.d(e,{addMouseEvents:()=>i,strokeDasharray:()=>r});var a=n(1114);function i(t,e,n,i,r){t.classed("igc-chart-link",function(t){return!!(t&&t.link)}).on("mouseover",function(){return n().interaction("show")}).on("mousemove",function(t,e){var o=(0,a.getMousePosition)(t);var s=i(e);var l=r(e);n().setText(s).setValue(l).setPosition(o,e.color)}).on("mouseout",function(){return n().hide()}).on("click",function(t,n){return e.call("openUrl",null,n.link)})}function r(t,e){return({dashed:"".concat(2*e,", ").concat(e),dotted:"".concat(e,", ").concat(e)})[t]||null}},3902:(t,e,n)=>{n.r(e),n.d(e,{TextItemMetrics:()=>s,createMeasurement:()=>o});var a=n(3851);var i=n(1114);function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t.append("span").styles(e).style("white-space","nowrap").style("line-height",n).style("visibility","hidden").style("position","absolute").style("top","0px").style("left","0px")}function o(t){var e=t.style,n=t.container,a=t.lineHeight;return function(t){var o=r(n,e,a);var s=(0,i.measureTextHtml)(t,o.node());return o.remove(),s}}function s(){var t=function(){if(l){var t=r(l,o);var a=(0,i.measureTextHtmlHeight)(e,t.node());return t.remove(),{width:n,label:{width:n-s,height:a+a/4}}}};var e=[];var n=300;var o=(0,a.chartOptions)().style.legend;var s=0;var l;return Object.assign(t,{texts:function(n){return arguments.length?(e=n.slice(0),t):e},width:function(e){return arguments.length?(n=e,t):n},style:function(e){return arguments.length?(o=e,t):o},reservedSize:function(e){return arguments.length?(s=e,t):s},parentContainer:function(e){return arguments.length?(l=e,t):l}}),t}},7724:(t,e,n)=>{function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.r(e),n.d(e,{Renderer:()=>i});var i=function(){"use strict";function t(e){if(!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t),!e.instance)throw Error("No instance provided");this.renderables=[],this.instance=e.instance}var e,n;return e=[{key:"start",value:function(){var t=this.instance;var e=t.root;var n=e.select(".igc");var a={igc:n,grid:n.select(".igc-grid"),title:e.select(".igc-titles")};this.renderables.forEach(function(e){if("function"==typeof e){e();return}if("object"==typeof e){if(-1!==["grid","title"].indexOf(e.parent)){t.renderPart(a[e.parent],e.callable,e.className);return}if("igc"===e.parent){t.renderGraphs(a.igc,e.callable);return}t.renderPart(e.parent,e.callable,e.className)}})}},{key:"add",value:function(t){return this.renderables.push(t),t}},{key:"addGrid",value:function(t,e){var n={callable:t,className:e,parent:"grid"};return this.add(n),n}},{key:"addTitle",value:function(t,e){var n={callable:t,className:e,parent:"title"};return this.add(n),n}},{key:"addParent",value:function(t,e,n){var a={callable:e,className:n,parent:t};return this.add(a),a}},{key:"addGraph",value:function(t){var e={callable:t,parent:"igc"};return this.add(e),e}}],a(t.prototype,e),n&&a(t,n),t}()},1113:(t,e,n)=>{n.r(e),n.d(e,{createStyledTooltip:()=>c,getTooltip:()=>l,setTooltip:()=>s,tooltipDummy:()=>r});var a=n(1114);var i=n(844);var r={setText:function(){return this},setValue:function(){return this},setPosition:function(){return this},show:function(){return(0,i.logError)("Trying to show dummy tooltip"),this},interaction:function(){return this},hide:function(){return o!==r&&o.hide.apply(o,arguments),this},mute:function(){return this},unmute:function(){return this},isVisible:function(){return this},setKey:function(){return this},getKey:function(){return this}};var o=r;function s(t){o=t}function l(){return o}function c(t){var e,n,i,s,l,c,u,h;var f=t.createInteractionCaller();var d=null==t?void 0:null===(n=t.options)||void 0===n?void 0:null===(e=n.tooltip)||void 0===e?void 0:e.enabled;var v=null==t?void 0:null===(l=t.options)||void 0===l?void 0:null===(s=l.style)||void 0===s?void 0:null===(i=s.tooltip)||void 0===i?void 0:i.text;var p=null==t?void 0:null===(h=t.options)||void 0===h?void 0:null===(u=h.style)||void 0===u?void 0:null===(c=u.tooltip)||void 0===c?void 0:c.value;v=v&&(0,a.camelizeObject)(v),p=p&&(0,a.camelizeObject)(p);var g=(0,a.createGetScale)(t.root.node());var m,y;return m=v,y=p,d?function(){return{setText:function(t){return o.setText(t,m),this},setValue:function(t){return"string"!=typeof t||o.setValue(t,y),this},setPosition:function(t,e){return o.setPosition(t,{color:e,scale:g().x}),this},interaction:function(t){return f("tooltip",t),this},show:function(){return o.show.apply(o,arguments),this},hide:function(){return o.hide.apply(o,arguments),this},isVisible:function(){return o.isVisible()},mute:function(){return o.mute(),this},unmute:function(){return o.unmute(),this},setKey:function(){return o.setKey.apply(o,arguments),this},getKey:function(){return o.getKey()}}}:function(){return r}}},7870:(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var a=n(498);var i=n.n(a);var r=n(7871);var o=n(7741);var s=n(7781);var l=n(7750);var c=Object.assign({},o.default);var u={1:"squarify",0:"slice",100:"dice",5:"squarify"};c.instanceClass=r.Treemap,c.initVariables=function(t){o.default.initVariables.call(this,t),this.custom.singleSheet&&(this.data=[this.data[0]])},c.setupChartOptions=function(){o.default.setupChartOptions.call(this);var t=this.custom;var e=this.chartOptions;i().has(t,"height")?e.height=parseInt(t.height,10):e.height=this.defaultHeight},c.setupChartOptionsStyle=function(){o.default.setupChartOptionsStyle.call(this);var t=i().get(this,"custom.textColor");var e=this.chartOptions;["name","value"].forEach(function(n){e.style.graph.item[n].color=t||"#ffffff"})},c.setupChartSheetOptionsItem=function(t){var e,n;var a=o.default.setupChartSheetOptionsItem.call(this,t);var r=a.treemap={showValues:!0===t.showInLineValues,sort:"none"};a.axis=[{}],a.categories.layout=i().has(t,"horizontalKoeficient")?u[t.horizontalKoeficient]:u[1];var c=(null===this||void 0===this?void 0:null===(n=this.charts)||void 0===n?void 0:null===(e=n.treemap)||void 0===e?void 0:e.labels)||{};["name","value"].forEach(function(t){c[t]&&(c[t]=(0,s.toKebabCase)(c[t]))}),a.labels=i().merge({},c);var h=["font-size","font-style","font-weight","font-family"];return["graph.item.name","graph.item.value"].forEach(function(e){i().get(t,"labels.".concat(e))&&h.forEach(function(n){var r=i().get(t,"labels.".concat(e,".").concat(n));r&&i().set(a.labels,"".concat(e.split(".").pop(),".").concat(n),r)})}),a.labels.position=i().has(t,"labelPosition")?t.labelPosition:a.labels.position?a.labels.position:"center",(0,l.assignNumberFormatLabels)({sheetOptions:a,custom:t,affixes:[{id:"x",path:"",defaultValue:!0},{id:"label",path:"",defaultValue:!0}],inputDecimalSeparator:this.inputDecimalSeparator}),i().set(a,"labels.format.useSIPrefixes",i().get(t,"useSIPrefixes",!1)),i().has(t,"sort")&&0!==t.sort&&(r.sort=-1===t.sort?"desc":"asc"),a};let h=Object.freeze(c)},7750:(t,e,n)=>{n.r(e),n.d(e,{assignNumberFormatLabels:()=>c,assignNumberFormatValues:()=>l});var a=n(498);var i=n.n(a);var r=n(1991);var o={label:{libraryTargetPath:"labels.format",customAffixPath:"labels.graph.item.format.affix"},x:{libraryTargetPath:"tooltip.format.x",customAffixPath:"labels.tooltip.format.x.affix"},y:{libraryTargetPath:"tooltip.format.y",customAffixPath:"labels.tooltip.format.y.affix"},y2:{libraryTargetPath:"tooltip.format.y2",customAffixPath:"labels.tooltip.format.y2.affix"}};function s(t,e,n){var a=e.decimalSeparator,o=e.groupingSymbol;o&&i().set(t,"grouping","none"===o?"":o);var s=!1===a;i().set(t,"decimal",s?".,":a);var l=n?new r.default("firstNumber",n):new r.default(s?"legacy":"firstNumber",a);i().set(t,"numberParser",l)}function l(t){var e=t.sheetOptions,n=t.custom,a=t.axis,r=t.inputDecimalSeparator;var o={x:0,y:1,y2:2,x1:0,y1:1};a.forEach(function(t){var a=t.id,l=t.path;var c=l?i().get(n,l,{}):n;var h=e.axis[o[a]];i().has(h,"format")||i().set(h,"format",{});var f=h.format;if(u(f,c),!["x1","y1"].includes(a)){s(f,c,r);var d=["useSIPrefixes"];i().get(n,"axis.".concat(a,".affix"),!0)&&d.push("prefix","suffix"),d.forEach(function(t){var e=i().get(c,t);void 0!==e&&i().set(f,t,e)})}})}function c(t){var e=t.sheetOptions,n=t.custom,a=t.affixes,r=t.inputDecimalSeparator;(void 0===a?[]:a).forEach(function(t){var a=t.id,l=t.path,c=t.ignoreCheck,h=t.defaultValue;var f=o[a];var d=f.libraryTargetPath,v=f.customAffixPath;var p=l?i().get(n,l,{}):n;var g=i().pick(p,"prefix","suffix");u(g,p),s(g,p,r),c||i().get(n,v,h)||(i().unset(g,"prefix"),i().unset(g,"suffix")),i().set(e,d,g)})}function u(t,e){var n=e.decimalPlaces,a=e.decimalPlacesValue;n&&void 0!==a&&i().set(t,"decimalPlaces",a)}},7781:(t,e,n)=>{n.r(e),n.d(e,{toKebabCase:()=>r});var a=n(498);var i=n.n(a);function r(t){return Object.keys(t).reduce(function(e,n){return e[i().kebabCase(n)]=t[n],e},{})}}}]);