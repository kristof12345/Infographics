(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-41"],{7822:(t,e,r)=>{r.r(e),r.d(e,{AreaStacked:()=>S});var a=r(498);var n=r.n(a);var o=r(1117);var i=r(7713);var l=r(3915);var c=r(3906);var u=r(3863);var s=r(420);var f=r(7708);var p=r(3903);var y=r(7719);var h=r(7692);var v=r(7820);var d=r(7718);var b=r(7705);var g=r(1114);var m=r(1113);var O=r(3861);var x=r(7736);function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function P(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function w(t,e,r){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(a){var n=Object.getOwnPropertyDescriptor(a,e);return n.get?n.get.call(r||t):n.value}})(t,e,r||t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(0,O.putGraph)("area",x.Area);var S=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(a,t);var r=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=j(a),r;if(e){var n=j(this).constructor;r=Reflect.construct(t,arguments,n)}else r=t.apply(this,arguments);var o;return(o=r)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function a(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}var l,c;return c=[{key:"getClassName",value:function(){return"AreaStacked"}}],l=[{key:"renderGraphs",value:function(t,e){var r=function(t){var e=[];var r=0;return function(a,n,o){r++%t==0&&(e=[0,0]),o>=0?(a.py=e[1]+o,a.y0=e[1],a.y=o,e[1]+=o):(a.py=e[0]+o,a.y0=e[0]+o,a.y=-o,e[0]+=o)}};h.Line.prototype.renderGraphs.call(this,t,e,function(t){var e=t.graphs;var a=[];var n=e.length;var o=e[0].data.length;var l=r(n);(0,i.default)(0,o).forEach(function(t){return a[t]=0});for(var c=0;c<o;c++){var u=e[0].data[c];var s=u.y0=a[c];l(u,s,u.y);for(var f=1;f<n;f++){var p=e[f].data[c];s+=e[f-1].data[c].y,p.y0=s,l(p,s,p.y)}}return e})}},{key:"gatherDataFromGroups",value:function(t){var e=[];return t.forEach(function(t){var r;e.push.apply(e,function(t){if(Array.isArray(t))return L(t)}(r=t.data.map(function(t){return{groupLabel:t.groupLabel,x:t.x,xLabel:t.xLabel,y:t.py,yLabel:t.yLabel,yPct:t.y,link:t.link,seriesIdx:t.seriesIdx}}).filter(function(t){return!!t.yLabel}))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(t,e)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}),e}},{key:"renderDataPoints",value:function(t,e){var r=this.chartId,a=this.interaction,i=this.options,l=this.runtime;var c=l.formatter,h=l.sheet,v=l.inanimate;var b=i.opacity;var O=e.showValues,x=e.graphs;var L=this.showAsPercent();var P=(0,m.createStyledTooltip)(this);var w=O&&!e.showOnlyClosest;var j=function(){e.animationEnd()};var k=w?this.gatherDataFromGroups(x):[];var S=function(t){return t.groupLabel};var E=L?(0,f.tooltipPercentValue)({sheet:h,formatter:c,props:["xLabel","yLabel","yPct"]}):function(t){return"".concat(t.xLabel,": ").concat(c.tooltip.y.format(t.yLabel))};if(w){var A=t.selectAll(".igc-labels").data([0]);(A=A.merge(A.enter().insert("g",".igc-crosshair-overlay").attr("class","igc-labels"))).selectAll("text").transition().duration(0).remove();var D=(0,s.default)("highlightStart","highlightEnd","openUrl");var I=n().get(this,"runtime.sheet.categories.colors",[]);var C=e.x;var R=e.y;var T=C.bandwidth?C.bandwidth()/2:0;var M=Math.max.apply(null,C.range());var _=Math.max.apply(null,R.range());var F=i.style.graph.item.value;var G=(0,y.createLineLabelData)({data:k.map(function(t){var e,r;return e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};var a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),a.forEach(function(e){var a;a=r[e],e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a})}return t}({},t),r=r={x:C(t.x)+T,y:R(t.y)},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r.push.apply(r,a)}return r})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}),strategy:"hide-most-colliding",style:F,showDataPoints:!0,dataPointRadius:e.radius,hideOverlapping:!0,valueProperty:"yLabel",textFormat:function(t){return c.labels.format(t.text)},width:M,height:_});e.legend&&e.legend.addListener({id:r,dispatch:D}),j=function(){(0,y.renderLineLabels)({selection:A,data:G,style:F,textFormat:function(t){return c.labels.format(t.text)},transitionDuration:v?0:50,listenToLegendText:(0,p.createListenToLegend)({easing:u.linear,ns:"text",dispatch:D}),addMouseEvents:(0,y.createAddMouseEvents)({dispatch:D,legend:e.legend,tooltip:P,chartId:r,tooltipText:S,tooltipValue:E,colors:I})}).then(e.animationEnd)}}if(e.showOnlyClosest||!e.enabled){j();return}t.selectAll(".igc-graph-group").each(function(t){(0,o.default)(this).selectAll(".igc-graph").each(function(n,i){var l=n.data.map(function(t){return{groupLabel:t.groupLabel,x:t.x,xLabel:t.xLabel,y:t.py,yLabel:t.yLabel,yPct:t.y,link:t.link}}).filter(function(t){return!!t.yLabel});var c=(0,d.Circle)().scaleX(t.x).scaleY(t.y).data(l).colors(n.colors).groupId(i).chartId(r).alpha(b).filterFn(function(t){return null!==t.y&&null!==t.x}).className("igc-data-point-area-stacked").strokeColor(e.pointStrokeColor).legend(t.legend).tooltip(P).tooltipText(S).tooltipValue(E).animate(!1);c.dispatch().on("openUrl",function(t){return(0,g.openUrl)(t,a)}),(0,o.default)(this.parentNode).call(c)})}),j()}},{key:"getDomain",value:function(t){return"absolute"!==this.options.series.data||(0,p.legendFiltered)(this)?E(t):v.getSheetsSeriesDomain.call(this,E)}},{key:"prepareSheetData",value:function(t){var e=w(j(a.prototype),"prepareSheetData",this).apply(this,arguments);if(!this.showAsPercent())return e;var r=t.categories.data;var n=[];return e.forEach(function(t){r.forEach(function(e,r){void 0===n[r]&&(n[r]=0),n[r]+=Math.abs(t.data[r].y)})}),e.forEach(function(t){r.forEach(function(e,r){var a=(0,g.replaceBlank)(t.data[r].y,0);t.data[r].y=0===a?a:a/n[r]})}),e}},{key:"graphInstanceSetup",value:function(t,e,r,n){w(j(a.prototype),"graphInstanceSetup",this).apply(this,arguments),t.scaleX(n.x).scaleY(n.y)}}],P(a.prototype,l),c&&P(a,c),a}(v.Area);function E(t){var e=[];var r=[];var a=void 0;var n=0;var o=0;t.forEach(function(t){t.data.forEach(function(t,i){t.y>=0?(e[i]===a?(e[i]=t.y,n=t.y):e[i]+=t.y,n=Math.min(n,t.y)):(r[i]===a?(r[i]=t.y,o=t.y):r[i]+=t.y,o=Math.max(o,t.y))})});var i=[r.length?(0,l.default)(r):n,e.length?(0,c.default)(e):o];return(0,b.ensureZeroEqual)(i),i}}}]);