(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-32"],{7800:(t,e,a)=>{a.r(e),a.d(e,{ColumnStacked:()=>N,getGraphData:()=>U});var r=a(498);var n=a.n(r);var i=a(7713);var o=a(3915);var l=a(7714);var c=a(3906);var s=a(3876);var u=a(1117);var f=a(3862);var h=a(3863);var d=a(420);var g=a(7796);var v=a(3854);var p=a(7708);var y=a(7709);var m=a(7715);var b=a(3911);var x=a(3912);var O=a(7717);var S=a(7764);var k=a(1114);var w=a(7705);var E=a(3903);var C=a(3900);var P=a(7724);var D=a(1113);var L=a(3909);var j=a(1115);var A=a(7719);var T=a(3861);var I=a(7801);var B=a(7704);function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}function z(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e,a){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(a||t):n.value}})(t,e,a||t)}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var r=[];var n=!0;var i=!1;var o,l;try{for(a=a.call(t);!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,l=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return H(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if("Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return H(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(0,T.putGraph)("column-stacked",I.ColumnStacked);var N=function(t){"use strict";var e;!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(r,t);var a=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t=G(r),a;if(e){var n=G(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);var i;return(i=a)&&("object"==(i&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)||"function"==typeof i)?i:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function r(){return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),a.apply(this,arguments)}var g,T;return T=[{key:"getClassName",value:function(){return"ColumnStacked"}}],g=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,a=this.root;var r=new P.Renderer({instance:this});var o=this.getSheetData();var l=(0,x.formatHelper)(o);var c=(0,p.percentEnabled)(e);var d=this.runtime={width:e.width,height:e.height,components:{},layout:{},inanimate:(0,b.inanimated)(e),sheet:o,formatter:l,percent:c};var g=this.prepareSheetData(o,this.sheetIndex);this.createTickIntervals(),(0,C.Controls)(this,{width:e.width}),(0,L.DownloadButton)(this,e.style.legend);var S=(0,E.legendHelper)({instance:this});if(!(this.sheetsNotFound(g)||this.failSafeByHeight(40))){var j=d.margin=d.layout.margin={top:0,right:0,bottom:0,left:0};var A=d.layout.marginTitle={left:0,right:0,top:0,bottom:0};var T=d.layout.marginAxis={left:0,right:0};var I=d.limits={maxCategoryWidth:0,maxCategoryHeight:6};var H=d.bottomLabelPadding={top:6,right:2,bottom:0,left:2};var z=this.createAnimationCounter(3);var R=W(o.axis,2),G=R[0],M=R[1];d.xAxisOptions=G,d.yAxisOptions=M;var N=e.style.axis,U=N.x,_=N.y;var Z=e.style.grid;var F=n().get(G,"title");var V=d.categoryData=this.getCategoryData(g);var Y=d.yDomain="absolute"!==e.series.data||(0,E.legendFiltered)(this)?this.getDomain(g):this.getSheetsSeriesDomain();var q=(0,w.limit)(M,Y);var X=Y[0]<0;var $=d.yScale=(0,s.default)().domain(Y).clamp(q);d.categoryLayout=o.categories.layout;var J=d.spacing={maxBeforeXAxisTick:50,beforeCategoryBorder:X?H.top:0,beforeBottomCategories:5};var K=d.components.yAxisLeftText=(0,m.Axis)().scale($).orient("left").style(_.tick);this.titleLayout(["x","y"]);var Q=(0,k.getTextDimensions)([(0,k.firstNonEmpty)(V)],U.tick);j.right+=Math.ceil(.5*Q.height);var tt=d.width-j.left-A.left-j.right-A.right;var te={width:0,height:0};if(M.ticks){var ta=(0,B.ensureMinTicks)($,this.runtime.yTickInterval);if(c){var tr=(0,p.percentFormat)(l.axis.y);ta.forEach(function(t,e){ta[e]=tr(t)}),te=(0,k.getTextDimensions)(ta,_.tick)}else te=this.yTicksMetrics(ta);T.left=te.width,j.top=te.height}var tn=d.height-j.top-A.top-j.bottom-A.bottom;F&&(I.maxCategoryHeight+=H.bottom),I.maxCategoryHeight+=Math.floor(.27*tn),d.graphWidth=tt-T.left-T.right;var ti=(0,i.default)(0,V.length);var to=d.xScale=this.createHorizontalScale(ti,[0,d.graphWidth],this.featuresColumnWidth(o));d.xScaleResize=this.createHorizontalScaleResize(),I.maxCategoryWidth=to.rangeBand()+to.padding()-H.left-H.right,d.igcLeftOffset=j.left+A.left+T.left,this.featuresCurtainAnimation()&&(d.igcLeftOffset=Math.floor(d.igcLeftOffset)),1===ti.length&&(I.maxCategoryWidth=d.graphWidth-H.left-H.right);var tl=this.createCategoryLabels();I.maxCategoryHeight=tl.height+H.top+H.bottom,G.ticks||(I.maxCategoryHeight=1);var tc=d.graphHeight=tn-I.maxCategoryHeight-J.beforeCategoryBorder;var ts=(0,y.Bottom)().style(U.tick).data(G.ticks?tl.renderData:[]).textAlign(tl.renderData.textAlign).bounds({height:I.maxCategoryHeight,y:tn-I.maxCategoryHeight+J.beforeBottomCategories});$.rangeRound([tc,0]);var tu=d.components.yGridLines=(0,O.GridLines)().scale($).orient(O.GridLines.ORIENTS.horizontal).tickSize(-tt).highlightZero(o.grid.horizontalZeroHighlight).style(Z).offset({left:-T.left});var tf=(0,O.GridLines)().scale(to).orient(O.GridLines.ORIENTS.vertical).tickSize(tc).highlightZero(o.grid.verticalZeroHighlight).style(Z);o.grid.vertical||tf.tickValues([]),K.textOffset(-(te.height-te.baseLineOffset)).offset({left:-T.left}),this.yTicksSetup(),this.gridSetupHorizontal();var th=0;M.ticks&&(th=K.getBorderingTick()-te.height)>0&&(th=0),d.layout.firstTickOffset=th;var td=j.top+A.top;this.titleComponents(["x","y"]);var tg=d.components,tv=tg.bottomTitle,tp=tg.leftTitle;tv.dispatch().on("animationEnd",z);var ty={igc:{x:d.igcLeftOffset,y:td}};d.inanimate&&(0,b.removeAnimation)([tp,tv,tf,tu,K,ts]),this.containerSetup();var tm=a.select(".igc");var tb=f[e.animation.ease];var tx=e.animation.duration;a.attr("width",d.width).attr("height",d.height),r.add(function(){tm.selectAll(".igc-labels").remove(),a.transition().ease(tb).duration(tx).on("start",function(){t.events.call("startAnimation")}).on("end",function(){z()}),tm.attr("transform","translate(".concat(ty.igc.x,", ").concat(ty.igc.y,")"))}),r.addGrid(K,"igc-y-axis-text"),r.addGrid(tu,"igc-ygrid"),r.addGrid(tf,"igc-xgrid"),r.addGrid(ts,"igc-x-axis-text"),r.addGraph([{graphs:g,x:to,y:$,textStyle:e.style.graph.item.value,legend:S,transitionDuration:tx,tooltip:(0,D.createStyledTooltip)(this),animationEnd:z}]),this.featuresCurtainAnimation()&&r.add(function(){var e=a.select("defs");var r={x:-d.igcLeftOffset,y:-td,width:d.width,height:d.height,clipPathId:"igc-cp-curtain-".concat(t.chartId)};tm.selectAll(".igc-graph").attr("clip-path","url(".concat((0,k.absoluteUrl)(r.clipPathId),")")),(0,v.createRectClipPath)(e,r);var n=e.select("#".concat(r.clipPathId)).selectAll("path");n.attr("transform","translate(-".concat(d.width+d.igcLeftOffset,", 0)")).transition().on("end",function(){n.attr("transform",null)}).duration(d.inanimate?0:500).ease(h.linear).attr("transform","translate(0, 0)")}),"AreaStepped"!==this.getClassName()&&o.grid.horizontal&&G.ticks?r.addGrid(function(t){t.each(function(){var t=(0,u.default)(this).selectAll(".igc-x-axis-border-line").data([0]);var e=tx;0===t.size()&&(e=0),(t=t.merge(t.enter().append("rect"))).attr("class","igc-x-axis-border-line").transition().ease(tb).duration(e).attr("x",-T.left).attr("y",tc+J.beforeCategoryBorder).attr("width",d.graphWidth+T.left).attr("height",2).styles({fill:Z.color,stroke:"none","stroke-width":0})})},"igc-x-axis-border"):r.add(function(){a.select(".igc .igc-grid .igc-x-axis-border").remove()}),r.addTitle(tp,"igc-title-left"),r.addTitle(tv,"igc-title-bottom"),r.start()}}},{key:"graphInstanceSetup",value:function(t,e,a,r){var n=r.graphs.length;var i=this.chartId,o=this.runtime;var l=o.formatter,c=o.percent,s=o.sheet;var u=r.transitionDuration,f=r.legend,g=r.tooltip;var v=e.colors;var y="AreaStepped"===this.getClassName()?.7:null;var m=this.graphData({data:e.data,colors:v,groupOffset:0,groupCount:1});var x=(0,d.default)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl");f&&f.data().forEach(function(t){f.addListener({id:"".concat(i,"_").concat(t.groupId),dispatch:x})});var O=(0,E.createListenToLegend)({easing:h.linear,ns:"shape",opacity:y,dispatch:x,alpha:this.options.opacity});var S=function(t){return"".concat(t.xLabel,": ").concat(l.tooltip.y.format(t.yLabel))};var k=function(t){return t.groupLabel};c&&(S=function(t){return t.xLabel},k=(0,p.tooltipPercentValue)({sheet:s,formatter:l,props:["groupLabel","yLabel","y"]}));var w=(0,A.createAddMouseEvents)({dispatch:x,legend:f,opacity:y,tooltip:g,chartId:i,tooltipText:S,tooltipValue:k,colors:v});var C=(0,b.removeDelay)(this,function(){return a/n*(u-200)});t.scaleY(r.y).data(m).alpha(this.options.opacity).listenToLegend(O).addMouseEvents(w).dispatch(x).transitionDelay(C).transitionDuration(u)}},{key:"defaults",value:function(){return n().merge({},R(G(r.prototype),"defaults",this).call(this),{series:{data:"separate"},style:{graph:{item:{value:{color:{method:"contrast",contrast:{light:"#ffffff",dark:"#000000",background:"#ffffff"},manual:{fill:"#000000",stroke:void 0}},placementStrategy:"no-alignment",hideOverlapping:!0,align:"bottom"}}}}})}},{key:"getDomain",value:function(t){var e=[(0,o.default)(t,function(t){var e=(0,l.default)(t.data,function(t){return t.y<0?t.y:0});return j.math.preciseNumber(e)}),(0,c.default)(t,function(t){var e=(0,l.default)(t.data,function(t){return t.y>0?t.y:0});return j.math.preciseNumber(e)})];return(0,w.ensureZeroEqual)(e),(0,w.ensureZero)(e),(0,s.default)().domain(e).nice(10).domain()}},{key:"getSheetsSeriesDomain",value:function(){var t=this;var e;return this.options.sheets.forEach(function(a,r){var i=n().merge({},t.emptySheetData(),a);var o=t.prepareSheetData(i,r);var l=t.getDomain(o);0===r?e=l.slice(0):(e[0]=Math.min(l[0],e[0]),e[1]=Math.max(l[1],e[1]))}),e}},{key:"emptySheetData",value:function(){return n().merge({},R(G(r.prototype),"emptySheetData",this).call(this),{series:[{type:"column-stacked"}]})}},{key:"prepareSheetData",value:function(t,e){var a=t.categories.colors;var r=n().get(t,"graphOptions.column",{}).showValues;t.categories.data||(t.categories.data=[]);var i=e===this.sheetIndex;var o;i&&(o=(0,E.createLegendData)(this));var l=t.categories.data.map(function(t,e){return{colors:a,data:[],categoryIdx:e,showValues:!0===r,type:"column-stacked"}});t.series.forEach(function(e,r){var c=n().get(e,"index",r);(!i||o({color:(0,k.getColor)(c,a),title:(0,k.replaceBlank)(e.title),groupId:c}).active)&&e.data.forEach(function(a,r){var i=t.categories.data[r];void 0!==i&&l[r].data.push({x:r,y:(0,k.replaceBlank)(a,null),xLabel:(0,k.replaceBlank)(e.title),yLabel:(0,k.replaceBlank)(e.rawData[r]),groupLabel:(0,k.replaceBlank)(i),seriesIdx:c,link:n().get(e,"links[".concat(r,"]"),null)})})});var c=l.length;return l.forEach(function(t){0!==t.data.length&&(t.data.some(function(t){return null!==t.y})||(t.data=[]))}),(l=l.filter(function(t){return t.data&&t.data.length>0})).length!==c&&l.forEach(function(t,e){t.data.forEach(function(t){t.x=e})}),this.runtime.percent&&(0,p.adjustStackedGraphs)(l,"y"),l}},{key:"createHorizontalScaleResize",value:function(){var t=this.featuresColumnWidth(this.runtime.sheet);return t?function(e,a){e.rangeBandsFixed(a,t)}:function(t,e){t.rangeBandsPct(e)}}},{key:"createHorizontalScale",value:function(t,e,a){var r=(0,S.Ordinal)().domain(t).rangeBandsPct(e);return a&&(r=(0,S.Ordinal)().domain(t).rangeBandsFixed(e,a)),r}},{key:"featuresColumnWidth",value:function(t){return t.categories.categoryWidth?Number(t.categories.categoryWidth):null}},{key:"featuresCurtainAnimation",value:function(){return"AreaStepped"===this.getClassName()}},{key:"graphData",value:function(t){var e=this.runtime;return U(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};var r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),r.forEach(function(e){var r;r=a[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}({xScale:e.xScale,yScale:e.yScale},t))}}],z(r.prototype,g),T&&z(r,T),r}(g.ColumnClass);function U(t){var e=t.data,a=t.xScale,r=t.yScale,n=t.colors,o=t.groupOffset,l=t.groupCount,c=t.yAxisIndex;var s=[0,0];var u=a.bandwidth();var f=[];var h=W(r.range(),2),d=h[0];var g=h[1]>d;if(e.forEach(function(t,e){var i=f[e]={};var o=t.y;var l=+(o>0);i.y0=s[l],s[l]+=o,i.y1=s[l],i.side=0===l?"negative":"positive",i.inverted=g,i.x=t.x,i.width=u,i.xPos=a(t.x),i.xLabel=t.xLabel,i.y=t.y,i.height=r(i.y1)-r(i.y0),i.yPos=r(i.y0)+(0===l?1:0),i.yLabel=t.yLabel,i.groupLabel=t.groupLabel,i.link=t.link,i.seriesIdx=t.seriesIdx,i.color=t.color||(0,k.getColor)(t.seriesIdx,n),i.group=t.group,i.stackIndex=t.stackIndex,i.categoryLabel=t.categoryLabel,i.yAxisIndex=c}),l>1){var v=(0,S.Ordinal)().domain((0,i.default)(0,l));f.forEach(function(t){var e=t.xPos;v.rangeBandsPct([e,e+u]),t.xPos=v(o+t.group),t.width=v.bandwidth()})}return f}},7801:(t,e,a)=>{a.r(e),a.d(e,{ColumnStacked:()=>c});var r=a(3876);var n=a(1117);var i=a(3871);var o=a(1114);var l=a(3855);function c(){var t=function(t){g.duration.y=p,0===p&&(g.duration.x=p,S=0),t.each(function(){if(!d.length){b.call("animationStart"),b.call("animationUpdateStart"),b.call("animationUpdateEnd"),b.call("animationEnterStart"),b.call("animationEnterEnd"),b.call("animationEnd");return}var t=(0,n.default)(this);var r=t.selectAll("path");r.transition().duration(0);var i=a(r);c(i[0]),e(t,i)})};var e=function(t,e){var a=t.selectAll("path").data(e);var r=a.enter().insert("path","text");var n=0===a.size()&&a.size()<r.size();var i=g.duration;var o=0;a.exit().remove(),a.style("fill",function(t){return t.next.color}).style("stroke-width",0).style("opacity",k),n?(a=a.merge(r),b.call("animationStart"),b.call("animationUpdateStart"),b.call("animationUpdateEnd"),r.call(s,function(){x(a),O(a),b.call("animationEnterEnd"),b.call("animationEnd")})):(b.call("animationStart"),b.call("animationUpdateStart"),a.transition().duration(i.y).attrTween("d",f(function(t){return{yPos:t.next.yPos,xPos:t.xPos,height:t.next.height,width:t.width}})).transition().duration(i.x).on("start",function(){o++}).attrTween("d",f(function(t){return t.next})).on("end",function(){if(0==--o){if(b.call("animationUpdateEnd"),0===r.size()){b.call("animationEnterStart"),b.call("animationEnterEnd"),b.call("animationEnd"),x(a),O(t.selectAll("path"));return}r.call(s,function(){b.call("animationEnterEnd"),b.call("animationEnd"),x(a.merge(r)),O(t.selectAll("path"))})}}))};var a=function(t){var e=[];return t.each(function(t){t.next;var a=function(t,e){if(null==t)return{};var a=function(t,e){if(null==t)return{};var a={};var r=Object.keys(t);var n,i;for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);var r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}(t,["next"]);e.push(a)}),0===e.length&&(e=d.map(function(t){var e,a;return e=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};var r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),r.forEach(function(e){var r;r=a[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}({},t),a=a={height:0,yPos:h(0)},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):(function(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a.push.apply(a,r)}return a})(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}),e})),(0,o.pairData)(e,d,function(t){t.height=0}),e};var c=function(t){var e={x:["xPos","width"]};var a;var r;var n;if(t){var i=t.next;for(a in g.duration)e[a]&&(r=e[a].length,n=0,e[a].forEach(o),r===n&&(g.duration[a]=0))}function o(e){.2>Math.abs(t[e]-i[e])&&n++}};var s=function(t,e){var a=0;t.style("fill",function(t){return t.color}).style("stroke-width",0).attr("d",function(t){return u(t.xPos,t.yPos,t.width,0,0)}).style("opacity",k),t.transition().duration(p+S).ease(i.elasticOut).delay(function(){return y+v.apply(this,arguments)}).attrTween("d",f(function(t){return t.next})).on("start",function(){0===a&&b.call("animationEnterStart"),a++}).on("end",function(){0==--a&&e()})};var u=l.barToRight;var f=(0,l.createTweenShape)(u,"y");var h=(0,r.default)();var d=[];var g={duration:{x:400,y:700}};var v=function(){return 0};var p=700;var y=0;var m=null;var b;var x;var O;var S=250;var k=1;return Object.assign(t,{scaleY:function(e){return arguments.length?(h=e.copy(),t):h},data:function(e){return arguments.length?(d=e,t):d},transitionDelay:function(e){return arguments.length?(v=e,t):v},transitionDuration:function(e){return arguments.length?(p=e,t):p},transitionTiming:function(e){return arguments.length?(g=e,t):g},renderDelay:function(e){return arguments.length?(y=e,t):y},dispatch:function(e){return arguments.length?(b=e,t):b},opacity:function(e){return arguments.length?(m=e,t):m},alpha:function(e){return arguments.length?(k=e,t):k},listenToLegend:function(e){return arguments.length?(x=e,t):x},addMouseEvents:function(e){return arguments.length?(O=e,t):O}}),t}}}]);