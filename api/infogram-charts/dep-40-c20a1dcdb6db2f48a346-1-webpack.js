(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-40"],{7833:(e,a,t)=>{t.r(a),t.d(a,{Scatter:()=>B});var r=t(498);var n=t.n(r);var o=t(7696);var l=t(3876);var i=t(7732);var u=t(7734);var c=t(3807);var s=t(1114);var p=t(7692);var v=t(7705);var f=t(3903);var y=t(1113);var d=t(3861);var h=t(7834);var m=t(7723);var b=t(7695);var g=t(7704);function x(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,a,t){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,a,t){var r=function(e,a){for(;!Object.prototype.hasOwnProperty.call(e,a)&&null!==(e=L(e)););return e}(e,a);if(r){var n=Object.getOwnPropertyDescriptor(r,a);return n.get?n.get.call(t||e):n.value}})(e,a,t||e)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,a){return(S=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}(0,d.putGraph)("circle",h.Circle);var O={curveLinear:i.default,curveMonotoneX:u.monotoneX,monotone:u.monotoneX};var B=function(e){"use strict";var a;!function(e,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&S(e,a)}(r,e);var t=(a=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=L(r),t;if(a){var n=L(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);var o;return(o=t)&&("object"==(o&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)||"function"==typeof o)?o:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(){return!function(e,a){if(!(e instanceof a))throw TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}var u,p;return p=[{key:"getClassName",value:function(){return"Scatter"}}],u=[{key:"emptySheetData",value:function(){return n().merge({},k(L(r.prototype),"emptySheetData",this).call(this),{categories:{numeric:!0},series:[{type:"circle"}],graphOptions:{dataPointRadius:8}})}},{key:"defaults",value:function(){return n().merge({},k(L(r.prototype),"defaults",this).call(this),{series:{dataPoints:!0}})}},{key:"prepareSheetData",value:function(e){var a,t;var r=this.emptySheetData().series[0].type;var o=n().merge([],e.axis);var l=e.categories,u=l.data,c=l.colors;var p=(0,s.replaceBlank)(o[0].valueLabel);var v=(0,s.replaceBlank)(o[1].valueLabel);var y=(0,s.replaceBlank)(e.categories.valueLabel);var d=[];var h=this.runtime.xAxisTimeBased;var m=h?(0,b.createTimeFormat)(null==e?void 0:null===(t=e.axis)||void 0===t?void 0:null===(a=t[0])||void 0===a?void 0:a.timeFormat):s.identity;var g=0;var x=(0,f.createLegendData)(this);return e.series.forEach(function(a,t){var o=n().get(a,"index",t);var l=x({color:(0,s.getColor)(o,c),title:(0,s.replaceBlank)(u[t]),groupId:t});var f=a.data.map(function(e,r){var n={x:h?e[0]:(0,s.replaceBlank)(Number(e[0]),0),y:l.active?(0,s.replaceBlank)(Number(e[1]),null):null,value:(0,s.replaceBlank)(Number(e[2]),null),valueRaw:(0,s.replaceBlank)(a.rawData[r][2]),xLabel:(0,s.replaceBlank)(h?m(e[0]):a.rawData[r][0]),yLabel:(0,s.replaceBlank)(a.rawData[r][1]),xValueLabel:p,yValueLabel:v,valueLabel:y,seriesIdx:t,groupLabel:(0,s.replaceBlank)(u[t]),groupSubLabel:(0,s.replaceBlank)(a.rawData[r][3]),link:a.links?a.links[r]:null};return g=Math.max(null===n.value?0:n.value,g),n});d.push({type:r,data:f,colors:[(0,s.getColor)(o,c)],interpolation:O[a.interpolation]||i.default,sizeRange:n().get(e,"graphOptions.sizeRange")})}),d.forEach(function(e){e.maxValue=g}),d}},{key:"renderGraphs",value:function(){c.Chart.prototype.renderGraphs.apply(this,arguments)}},{key:"graphInstanceSetup",value:function(e,a,t,r){var o=n().get(this,"runtime.sheet.graphOptions",{}).dataPointRadius;var l=this.runtime,i=l.formatter,u=l.xAxisTimeBased;e.scaleX(r.x).scaleY(r.y).data(a.data).colors(a.colors).radius(function(e){return"string"==typeof e.y?0:o}).legend(r.legend).colorAlpha(this.options.opacity).filterFn(function(e){return null!==e.y&&null!==e.x}).tooltip((0,y.createStyledTooltip)(this)).tooltipText(function(e){if(e.groupSubLabel){var a="".concat(e.groupLabel,"\n").concat(e.groupSubLabel);var t=!!(e.valueRaw||null!==e.value);var r=null===e.value?e.valueRaw:e.value;return t?!e.valueLabel&&t?"".concat(a," (").concat(r,")"):"".concat(a," (").concat(e.valueLabel,": ").concat(r,")"):a}return e.groupLabel}).tooltipValue(function(e){var a=e.xValueLabel?"".concat(e.xValueLabel,": "):"";var t=u?e.xLabel:i.tooltip.x.format(e.x);var r=e.yValueLabel?"".concat(e.yValueLabel,": "):"";var n=i.tooltip.y.format(e.y);return"".concat(a).concat(t,"\n").concat(r).concat(n)}).transitionDuration(this.options.animation.duration).dispatch().on("animationEnd",r.animationEnd)}},{key:"createXScale",value:function(){var e=this.runtime;var a=e.sheet,t=e.graphWidth;if(e.xAxisTimeBased){var r=a.series.reduce(function(e,a){var t=!0,r=!1,n=void 0;try{for(var o=a.data[Symbol.iterator](),l;!(t=(l=o.next()).done);t=!0){var i=l.value;e.push(i[0])}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}return e},[]);var n=e.xDomain=(0,v.getTimeDomain)(r);e.xScale=(0,o.default)().domain(n).range([0,t],0)}else e.xScale=this.numericCategoriesScale();return e.xScale}},{key:"numericCategoriesScale",value:function(){var e;var a=this.runtime;var t=a.xAxisOptions,r=a.graphWidth,n=a.graphs,o=a.sheet;var i=[0,r];var u=(0,m.getGraphsDomainByProperty)(n,"x");return u=(0,g.adjustScaleDomainByTickLimits)(u,null==o?void 0:null===(e=o.graphOptions)||void 0===e?void 0:e.dataPointRadius,i),(0,v.limit)(t,u),(0,l.default)().domain(u).range(i)}},{key:"curtainAnimation",value:function(e,a,t,r){r.animationEnd()}}],x(r.prototype,u),p&&x(r,p),r}(p.Line)}}]);